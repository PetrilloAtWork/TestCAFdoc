<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAF format: icaruscode/icaruscode/CRT/CRTUtils/CRTPMTMatchingUtils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/TeX/AMSmath','[tex]/TeX/AMSsymbols']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','TeX/AMSmath','TeX/AMSsymbols']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAF format<span id="projectnumber">&#160;${SBNANAOBJ_VERSION}</span>
   </div>
   <div id="projectbrief">Simulation, reconstruction and analysis software for the ICARUS experiment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3bfe4976819e8434ce603ce37432c4f4.html">icaruscode</a></li><li class="navelem"><a class="el" href="dir_dd542699a33b65b3e6b0c52d22a2f906.html">icaruscode</a></li><li class="navelem"><a class="el" href="dir_089af464928975b4664e22e7d777c26b.html">CRT</a></li><li class="navelem"><a class="el" href="dir_7cc72ed8648174611c1be9045761120d.html">CRTUtils</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CRTPMTMatchingUtils.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Common functions for CRT/PMT matching.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;sbnobj/Common/CRT/CRTPMTMatching.hh&quot;</code><br />
<code>#include &quot;larcoreobj/SimpleTypesAndConstants/geo_vectors.h&quot;</code><br />
<code>#include &quot;sbnobj/Common/CRT/CRTHit.hh&quot;</code><br />
<code>#include &quot;canvas/Persistency/Common/Ptr.h&quot;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div>
<p><a href="CRTPMTMatchingUtils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structicarus_1_1crt_1_1CRTPMT.html">icarus::crt::CRTPMT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structicarus_1_1crt_1_1CRTMatches.html">icarus::crt::CRTMatches</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains vectors of records with matched Time of Flight and matched <a class="el" href="structicarus_1_1crt_1_1CRTHit.html">CRTHit</a>.  <a href="structicarus_1_1crt_1_1CRTMatches.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsbn_1_1crt_1_1FlashType.html">sbn::crt::FlashType</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacerecob.html">recob</a></td></tr>
<tr class="memdesc:namespacerecob"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconstruction base classes. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceicarus.html">icarus</a></td></tr>
<tr class="memdesc:namespaceicarus"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cluster finding and building. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesbn.html">sbn</a></td></tr>
<tr class="memdesc:namespacesbn"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of values to identify a beam. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1d95123bc9403c2e52ec4201e989804c" id="r_a1d95123bc9403c2e52ec4201e989804c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d95123bc9403c2e52ec4201e989804c">icarus::crt::flashInTime</a> (double flashTime, int gateType, double gateDiff, double gateWidth)</td></tr>
<tr class="memdesc:a1d95123bc9403c2e52ec4201e989804c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a flash is in time with the specified gate.  <br /></td></tr>
<tr class="separator:a1d95123bc9403c2e52ec4201e989804c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829c9ceb589cac4b6126f5105985ebd3" id="r_a829c9ceb589cac4b6126f5105985ebd3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a829c9ceb589cac4b6126f5105985ebd3">icarus::crt::CRTHitTime</a> (<a class="el" href="structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a> const &amp;hit, double globalT0Offset, bool isRealData)</td></tr>
<tr class="memdesc:a829c9ceb589cac4b6126f5105985ebd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the relative time of a CRT hit [ns].  <br /></td></tr>
<tr class="separator:a829c9ceb589cac4b6126f5105985ebd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af59438bb4bda03d2b9e3619a074d94db" id="r_af59438bb4bda03d2b9e3619a074d94db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structicarus_1_1crt_1_1CRTMatches.html">CRTMatches</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af59438bb4bda03d2b9e3619a074d94db">icarus::crt::CRTHitmatched</a> (double flashTime, geo::Point_t const &amp;flashpos, std::vector&lt; art::Ptr&lt; <a class="el" href="structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a> &gt; &gt; &amp;crtHits, double interval, bool isRealData, double globalT0Offset, bool matchBottomCRT)</td></tr>
<tr class="memdesc:af59438bb4bda03d2b9e3619a074d94db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all the CRT hits matching the specified flash time.  <br /></td></tr>
<tr class="separator:af59438bb4bda03d2b9e3619a074d94db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebe0ffbe03232ee5555f12d0b939523" id="r_acebe0ffbe03232ee5555f12d0b939523"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acebe0ffbe03232ee5555f12d0b939523">icarus::crt::makeFlashID</a> (recob::OpFlash const &amp;flash, int version=std::numeric_limits&lt; int &gt;::max())</td></tr>
<tr class="memdesc:acebe0ffbe03232ee5555f12d0b939523"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an unique ID for the flash in <code>ptr</code>.  <br /></td></tr>
<tr class="separator:acebe0ffbe03232ee5555f12d0b939523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e5b14650b26c2f05e77687fc9c76e0" id="r_a30e5b14650b26c2f05e77687fc9c76e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30e5b14650b26c2f05e77687fc9c76e0">icarus::crt::makeFlashID</a> (recob::OpFlash const *flash, int version=std::numeric_limits&lt; int &gt;::max())</td></tr>
<tr class="separator:a30e5b14650b26c2f05e77687fc9c76e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb291dc47f2475704fe480c224241d8e" id="r_aeb291dc47f2475704fe480c224241d8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsbn_1_1crt_1_1CRTPMTMatching.html">CRTPMTMatching</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb291dc47f2475704fe480c224241d8e">sbn::crt::FillCRTPMT</a> (<a class="el" href="structsbn_1_1crt_1_1FlashType.html">FlashType</a> const &amp;flash)</td></tr>
<tr class="memdesc:aeb291dc47f2475704fe480c224241d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills a <code><a class="el" href="structsbn_1_1crt_1_1CRTPMTMatching.html">CRTPMTMatching</a></code> record out of the specified <code>flash</code> information.  <br /></td></tr>
<tr class="separator:aeb291dc47f2475704fe480c224241d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common functions for CRT/PMT matching. </p>
<dl class="section author"><dt>Author</dt><dd>Francesco Poppi ( <a href="mailto:poppi@bo.infn.it">poppi@bo.infn.it</a> ) and Anna Heggestuen (<a href="mailto:aheggest@colostate.edu">aheggest@colostate.edu</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 26 2023. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="CRTPMTMatchingUtils_8cxx.html" title="Common functions for CRT/PMT matching.">icaruscode/CRT/CRTUtils/CRTPMTMatchingUtils.cxx</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="CRTPMTMatchingUtils_8h_source.html">CRTPMTMatchingUtils.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af59438bb4bda03d2b9e3619a074d94db" name="af59438bb4bda03d2b9e3619a074d94db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af59438bb4bda03d2b9e3619a074d94db">&#9670;&#160;</a></span>CRTHitmatched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structicarus_1_1crt_1_1CRTMatches.html">icarus::crt::CRTMatches</a> icarus::crt::CRTHitmatched </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>flashTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">geo::Point_t const &amp;</td>          <td class="paramname"><span class="paramname"><em>flashpos</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; art::Ptr&lt; <a class="el" href="structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a> &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>crtHits</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>interval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isRealData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>globalT0Offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>matchBottomCRT</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns all the CRT hits matching the specified flash time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flashTime</td><td>the time of the flash to be matched [us] </td></tr>
    <tr><td class="paramname">flashpos</td><td>nominal position of the flash source [cm] </td></tr>
    <tr><td class="paramname">crtHits</td><td>list of the CRT hits to consider </td></tr>
    <tr><td class="paramname">interval</td><td>time difference for matching flash and hit [ns] </td></tr>
    <tr><td class="paramname">isRealData</td><td><code>true</code> for detector data, <code>false</code> for simulation </td></tr>
    <tr><td class="paramname">globalT0Offset</td><td>CRT timing offset [ns] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <code>CRTMatches</code> record with information about all the matched hits</dd></dl>
<p>Hits are separated between entering (before the flash) and exiting (after the flash). The match is tagged according to how many entering and exiting hits are found, and where. </p>

<p class="definition">Definition at line <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html#l00050">50</a> of file <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html">CRTPMTMatchingUtils.cxx</a>.</p>

<p class="reference">References <a class="el" href="#af59438bb4bda03d2b9e3619a074d94db">icarus::crt::CRTHitmatched()</a>, <a class="el" href="#a829c9ceb589cac4b6126f5105985ebd3">icarus::crt::CRTHitTime()</a>, and <a class="el" href="namespaceicarus.html#a6ad3253842c1a0803df7cd600b60c35f">icarus::distance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#af59438bb4bda03d2b9e3619a074d94db">icarus::crt::CRTHitmatched()</a>.</p>

</div>
</div>
<a id="a829c9ceb589cac4b6126f5105985ebd3" name="a829c9ceb589cac4b6126f5105985ebd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829c9ceb589cac4b6126f5105985ebd3">&#9670;&#160;</a></span>CRTHitTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double icarus::crt::CRTHitTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>hit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>globalT0Offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isRealData</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the relative time of a CRT hit [ns]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hit</td><td>the CRT hit </td></tr>
    <tr><td class="paramname">globalT0Offset</td><td>for simulation, the global T0 offset in nanoseconds </td></tr>
    <tr><td class="paramname">isRealData</td><td>whether the hit is from data (as opposed to simulation) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the time of the hit [ns]</dd></dl>
<p>For data hits, the time is directly taken from the timestamp 1 (<code>ts1_ns</code>). For simulation, the time is taken from the "absolute" timestamp 0 (<code>ts0()</code>) after subtracting a known offset (<code>globalT0Offset</code>). </p>

<p class="definition">Definition at line <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html#l00041">41</a> of file <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html">CRTPMTMatchingUtils.cxx</a>.</p>

<p class="reference">References <a class="el" href="#a829c9ceb589cac4b6126f5105985ebd3">icarus::crt::CRTHitTime()</a>, and <a class="el" href="structsbn_1_1crt_1_1CRTHit.html#a38207a423ae3242f331fb4b944589cdb">sbn::crt::CRTHit::ts1_ns</a>.</p>

<p class="reference">Referenced by <a class="el" href="#af59438bb4bda03d2b9e3619a074d94db">icarus::crt::CRTHitmatched()</a>, and <a class="el" href="#a829c9ceb589cac4b6126f5105985ebd3">icarus::crt::CRTHitTime()</a>.</p>

</div>
</div>
<a id="aeb291dc47f2475704fe480c224241d8e" name="aeb291dc47f2475704fe480c224241d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb291dc47f2475704fe480c224241d8e">&#9670;&#160;</a></span>FillCRTPMT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a> sbn::crt::FillCRTPMT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsbn_1_1crt_1_1FlashType.html">FlashType</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>flash</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills a <code>CRTPMTMatching</code> record out of the specified <code>flash</code> information. </p>

<p class="definition">Definition at line <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html#l00123">123</a> of file <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html">CRTPMTMatchingUtils.cxx</a>.</p>

<p class="reference">References <a class="el" href="#aeb291dc47f2475704fe480c224241d8e">sbn::crt::FillCRTPMT()</a>, <a class="el" href="structsbn_1_1crt_1_1CRTPMTMatching.html#afb63c4d96e7f8addd47900c39bb7c98b">sbn::crt::CRTPMTMatching::flashPosition</a>, and <a class="el" href="structsbn_1_1crt_1_1CRTPMTMatching.html#af3d43d756325c8235abab4e8161bf989">sbn::crt::CRTPMTMatching::matchedCRTHits</a>.</p>

<p class="reference">Referenced by <a class="el" href="#aeb291dc47f2475704fe480c224241d8e">sbn::crt::FillCRTPMT()</a>.</p>

</div>
</div>
<a id="a1d95123bc9403c2e52ec4201e989804c" name="a1d95123bc9403c2e52ec4201e989804c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d95123bc9403c2e52ec4201e989804c">&#9670;&#160;</a></span>flashInTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool icarus::crt::flashInTime </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>flashTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>gateType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>gateDiff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>gateWidth</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a flash is in time with the specified gate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flashTime</td><td>time of the flash, in trigger time scale [us] " fill in for new vars " </td></tr>
    <tr><td class="paramname">gateType</td><td>type of the gate [unused] </td></tr>
    <tr><td class="paramname">gateDiff</td><td>time offset between PMT flashes and beam gate opening time [ns] </td></tr>
    <tr><td class="paramname">gateWidth</td><td>the duration of the gate opening [us] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether <code>flashTime</code> is included the gate of specified duration</dd></dl>
<p>The <code>gateDiff</code> offset represents the delay observed from the reconstructed time for a flash that happens exactly at the opening of the beam gate, and the opening time of the beam gate as reported by the trigger system. Due to delays on the trigger decision after the digitization of the PMT signals happened, this offset is typically larger than zero.</p>
<dl class="section note"><dt>Note</dt><dd>With Monte Carlo conventions, <code>gateDiff</code> needs to be <code>0</code> since the flash time is already in beam gate time scale rather than trigger's. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html#l00024">24</a> of file <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html">CRTPMTMatchingUtils.cxx</a>.</p>

<p class="reference">References <a class="el" href="#a1d95123bc9403c2e52ec4201e989804c">icarus::crt::flashInTime()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a1d95123bc9403c2e52ec4201e989804c">icarus::crt::flashInTime()</a>.</p>

</div>
</div>
<a id="acebe0ffbe03232ee5555f12d0b939523" name="acebe0ffbe03232ee5555f12d0b939523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acebe0ffbe03232ee5555f12d0b939523">&#9670;&#160;</a></span>makeFlashID() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int icarus::crt::makeFlashID </td>
          <td>(</td>
          <td class="paramtype">recob::OpFlash const &amp;</td>          <td class="paramname"><span class="paramname"><em>flash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>version</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::numeric_limits&lt;int&gt;::max()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an unique ID for the flash in <code>ptr</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flash</td><td>a flash or its pointer </td></tr>
    <tr><td class="paramname">version</td><td>(default: latest) the ID creation algorithm version to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an unique ID for the flash in <code>ptr</code></dd></dl>
<p>An ID is made up out of the flash.</p>
<p>Supported versions:</p><ul>
<li><code>10</code>: ID is the flash time in picoseconds, rounded; <code>icarus::crt::CRTPMTMatching::NoID</code> if flash is invalid (e.g. null pointer) </li>
</ul>

<p class="definition">Definition at line <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html#l00151">151</a> of file <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html">CRTPMTMatchingUtils.cxx</a>.</p>

<p class="reference">References <a class="el" href="#acebe0ffbe03232ee5555f12d0b939523">icarus::crt::makeFlashID()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#acebe0ffbe03232ee5555f12d0b939523">icarus::crt::makeFlashID()</a>.</p>

</div>
</div>
<a id="a30e5b14650b26c2f05e77687fc9c76e0" name="a30e5b14650b26c2f05e77687fc9c76e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e5b14650b26c2f05e77687fc9c76e0">&#9670;&#160;</a></span>makeFlashID() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int icarus::crt::makeFlashID </td>
          <td>(</td>
          <td class="paramtype">recob::OpFlash const *</td>          <td class="paramname"><span class="paramname"><em>flash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>version</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::numeric_limits&lt;int&gt;::max()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html#l00158">158</a> of file <a class="el" href="CRTPMTMatchingUtils_8cxx_source.html">CRTPMTMatchingUtils.cxx</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
