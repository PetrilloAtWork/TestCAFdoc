<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAF format: icarus::trigger::SlidingWindowTrigger Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/TeX/AMSmath','[tex]/TeX/AMSsymbols']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','TeX/AMSmath','TeX/AMSsymbols']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAF format<span id="projectnumber">&#160;${SBNANAOBJ_VERSION}</span>
   </div>
   <div id="projectbrief">Simulation, reconstruction and analysis software for the ICARUS experiment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="namespaceicarus_1_1trigger.html">trigger</a></li><li class="navelem"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classicarus_1_1trigger_1_1SlidingWindowTrigger-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">icarus::trigger::SlidingWindowTrigger Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Combines trigger channels (V1730 LVDS gates) into sliding windows.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for icarus::trigger::SlidingWindowTrigger:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classicarus_1_1trigger_1_1SlidingWindowTrigger.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config" id="r_structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config">Config</a></td></tr>
<tr class="separator:structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4e23e2e121879739293c66707bb03b83" id="r_a4e23e2e121879739293c66707bb03b83"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e23e2e121879739293c66707bb03b83">Parameters</a> = art::EDProducer::Table&lt;<a class="el" href="#structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config">Config</a>&gt;</td></tr>
<tr class="separator:a4e23e2e121879739293c66707bb03b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af5b981593eaaa97607dd9c91c8219109" id="r_af5b981593eaaa97607dd9c91c8219109"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5b981593eaaa97607dd9c91c8219109">SlidingWindowTrigger</a> (Parameters const &amp;config)</td></tr>
<tr class="separator:af5b981593eaaa97607dd9c91c8219109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25696ce1bec3e7c2cab47b990fc60b56" id="r_a25696ce1bec3e7c2cab47b990fc60b56"><td class="memItemLeft" align="right" valign="top"><a id="a25696ce1bec3e7c2cab47b990fc60b56" name="a25696ce1bec3e7c2cab47b990fc60b56"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SlidingWindowTrigger</b> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> const &amp;)=delete</td></tr>
<tr class="separator:a25696ce1bec3e7c2cab47b990fc60b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc8ad9b16568b20af9303751d5d3574" id="r_a0cc8ad9b16568b20af9303751d5d3574"><td class="memItemLeft" align="right" valign="top"><a id="a0cc8ad9b16568b20af9303751d5d3574" name="a0cc8ad9b16568b20af9303751d5d3574"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SlidingWindowTrigger</b> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a0cc8ad9b16568b20af9303751d5d3574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5cc3c42767bd2da77015205441ac1a0" id="r_ad5cc3c42767bd2da77015205441ac1a0"><td class="memItemLeft" align="right" valign="top"><a id="ad5cc3c42767bd2da77015205441ac1a0" name="ad5cc3c42767bd2da77015205441ac1a0"></a>
<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> const &amp;)=delete</td></tr>
<tr class="separator:ad5cc3c42767bd2da77015205441ac1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3de0eb5084b672cd6ce822f205648eb" id="r_ac3de0eb5084b672cd6ce822f205648eb"><td class="memItemLeft" align="right" valign="top"><a id="ac3de0eb5084b672cd6ce822f205648eb" name="ac3de0eb5084b672cd6ce822f205648eb"></a>
<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html">SlidingWindowTrigger</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ac3de0eb5084b672cd6ce822f205648eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9b5754dd399bcc1673c16239d52c4c" id="r_adb9b5754dd399bcc1673c16239d52c4c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb9b5754dd399bcc1673c16239d52c4c">produce</a> (art::Event &amp;event) override</td></tr>
<tr class="memdesc:adb9b5754dd399bcc1673c16239d52c4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the plots. Also extracts the information to fill them with.  <br /></td></tr>
<tr class="separator:adb9b5754dd399bcc1673c16239d52c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a325b22ca0c4226b809b10b7caaef952f" id="r_a325b22ca0c4226b809b10b7caaef952f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a> = <a class="el" href="namespaceicarus_1_1trigger.html#aa33c84b956fca78ac1326d3b4f8f58af">icarus::trigger::TriggerWindowDefs_t</a></td></tr>
<tr class="memdesc:a325b22ca0c4226b809b10b7caaef952f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of all windows.  <br /></td></tr>
<tr class="separator:a325b22ca0c4226b809b10b7caaef952f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84663fe3a5c410aa77bced888818343" id="r_ad84663fe3a5c410aa77bced888818343"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad84663fe3a5c410aa77bced888818343">TriggerGateData_t</a> = <a class="el" href="classicarus_1_1trigger_1_1OpticalTriggerGate.html#a2b9986e0e920b11a5dfdc5a963f2a1c2">icarus::trigger::OpticalTriggerGate::GateData_t</a></td></tr>
<tr class="separator:ad84663fe3a5c410aa77bced888818343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b6da0db6d67a7437f4123179641775" id="r_ad1b6da0db6d67a7437f4123179641775"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1b6da0db6d67a7437f4123179641775">TrackedTriggerGate_t</a> = <a class="el" href="namespaceicarus_1_1trigger.html#a3d74537ebeb98f2f58fa8830967c62e7">icarus::trigger::TrackedOpticalTriggerGate</a>&lt;<a class="el" href="structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a>&gt;</td></tr>
<tr class="memdesc:ad1b6da0db6d67a7437f4123179641775"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconstituted trigger gate type internally used.  <br /></td></tr>
<tr class="separator:ad1b6da0db6d67a7437f4123179641775"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:adad5e2b1d3049cbdacf7926c35c1b519" id="r_adad5e2b1d3049cbdacf7926c35c1b519"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adad5e2b1d3049cbdacf7926c35c1b519">nDisabledWindows</a> () const noexcept</td></tr>
<tr class="memdesc:adad5e2b1d3049cbdacf7926c35c1b519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of disabled windows.  <br /></td></tr>
<tr class="separator:adad5e2b1d3049cbdacf7926c35c1b519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49af488396bda2c254cd1a269d69b1b0" id="r_a49af488396bda2c254cd1a269d69b1b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49af488396bda2c254cd1a269d69b1b0">produceThreshold</a> (art::Event &amp;event, <a class="el" href="namespaceicarus_1_1trigger.html#a1a363eee8e52a3a52915a85b1220f18b">icarus::trigger::OpDetWaveformMetaDataProductMap_t</a> &amp;waveformMap, std::string const &amp;threshold, art::InputTag const &amp;dataTag) const</td></tr>
<tr class="memdesc:a49af488396bda2c254cd1a269d69b1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the combination for data with a specified threshold.  <br /></td></tr>
<tr class="separator:a49af488396bda2c254cd1a269d69b1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624877fef5572c156015acc57baaf1ef" id="r_a624877fef5572c156015acc57baaf1ef"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespaceicarus_1_1trigger.html#a3d74537ebeb98f2f58fa8830967c62e7">icarus::trigger::TrackedOpticalTriggerGate</a>&lt; <a class="el" href="structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a624877fef5572c156015acc57baaf1ef">ReadTriggerGates</a> (art::Event const &amp;event, art::InputTag const &amp;dataTag, <a class="el" href="namespaceicarus_1_1trigger.html#a1a363eee8e52a3a52915a85b1220f18b">icarus::trigger::OpDetWaveformMetaDataProductMap_t</a> &amp;waveformMap) const</td></tr>
<tr class="memdesc:a624877fef5572c156015acc57baaf1ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a set of input gates from the <code>event</code> and updates <code>waveformMap</code>.  <br /></td></tr>
<tr class="separator:a624877fef5572c156015acc57baaf1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf17526b3a3aea014b0978d32715ee9" id="r_a8bf17526b3a3aea014b0978d32715ee9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bf17526b3a3aea014b0978d32715ee9">defineWindows</a> () const</td></tr>
<tr class="memdesc:a8bf17526b3a3aea014b0978d32715ee9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the channels falling in each window.  <br /></td></tr>
<tr class="separator:a8bf17526b3a3aea014b0978d32715ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a975f6927da1c2322a56646ac1cb8a8be" id="r_a975f6927da1c2322a56646ac1cb8a8be"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a975f6927da1c2322a56646ac1cb8a8be">makeEnabledWindowIndices</a> (std::size_t nWindows, fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;enabled, fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;disabled)</td></tr>
<tr class="memdesc:a975f6927da1c2322a56646ac1cb8a8be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of enabled window indices.  <br /></td></tr>
<tr class="separator:a975f6927da1c2322a56646ac1cb8a8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30574daf2d5c652e478eab7d67e35e27" id="r_a30574daf2d5c652e478eab7d67e35e27"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30574daf2d5c652e478eab7d67e35e27">UpdateWaveformMap</a> (<a class="el" href="namespaceicarus_1_1trigger.html#a1a363eee8e52a3a52915a85b1220f18b">icarus::trigger::OpDetWaveformMetaDataProductMap_t</a> &amp;map, art::Assns&lt; <a class="el" href="classicarus_1_1trigger_1_1ReadoutTriggerGate.html">TriggerGateData_t</a>, <a class="el" href="structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a> &gt; const &amp;assns)</td></tr>
<tr class="memdesc:a30574daf2d5c652e478eab7d67e35e27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the waveforms in the specified association to the waveform <code>map</code>.  <br /></td></tr>
<tr class="separator:a30574daf2d5c652e478eab7d67e35e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a166fe1d747af8efff5c9c5004a6173af" id="r_a166fe1d747af8efff5c9c5004a6173af"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, art::InputTag &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a166fe1d747af8efff5c9c5004a6173af">fADCthresholds</a></td></tr>
<tr class="memdesc:a166fe1d747af8efff5c9c5004a6173af"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC thresholds to read, and the input tag connected to their data.  <br /></td></tr>
<tr class="separator:a166fe1d747af8efff5c9c5004a6173af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf28f1719fade00a82f95f0701a64005" id="r_abf28f1719fade00a82f95f0701a64005"><td class="memItemLeft" align="right" valign="top">unsigned int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf28f1719fade00a82f95f0701a64005">fWindowSize</a></td></tr>
<tr class="memdesc:abf28f1719fade00a82f95f0701a64005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sliding window size in number of channels.  <br /></td></tr>
<tr class="separator:abf28f1719fade00a82f95f0701a64005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab496ace5ad3d19e6fca738d5d5b2602d" id="r_ab496ace5ad3d19e6fca738d5d5b2602d"><td class="memItemLeft" align="right" valign="top">unsigned int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab496ace5ad3d19e6fca738d5d5b2602d">fWindowStride</a></td></tr>
<tr class="memdesc:ab496ace5ad3d19e6fca738d5d5b2602d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sliding window base offset.  <br /></td></tr>
<tr class="separator:ab496ace5ad3d19e6fca738d5d5b2602d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731b9f8deb4255ba7c51ffb9ebe36019" id="r_a731b9f8deb4255ba7c51ffb9ebe36019"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a731b9f8deb4255ba7c51ffb9ebe36019">fWindowChannels</a></td></tr>
<tr class="memdesc:a731b9f8deb4255ba7c51ffb9ebe36019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel content of each window.  <br /></td></tr>
<tr class="separator:a731b9f8deb4255ba7c51ffb9ebe36019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec33ae0e28cce09fcaafdbbad5c0d73" id="r_afec33ae0e28cce09fcaafdbbad5c0d73"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt; const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afec33ae0e28cce09fcaafdbbad5c0d73">fEnabledWindows</a></td></tr>
<tr class="memdesc:afec33ae0e28cce09fcaafdbbad5c0d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of windows to be included.  <br /></td></tr>
<tr class="separator:afec33ae0e28cce09fcaafdbbad5c0d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df15cb37b3788cc1be65655ca50d767" id="r_a4df15cb37b3788cc1be65655ca50d767"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4df15cb37b3788cc1be65655ca50d767">fProduceWaveformAssns</a></td></tr>
<tr class="memdesc:a4df15cb37b3788cc1be65655ca50d767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to produce gate/waveform associations.  <br /></td></tr>
<tr class="separator:a4df15cb37b3788cc1be65655ca50d767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f63f0a6932192d15f7f79424d3d7a8" id="r_ae2f63f0a6932192d15f7f79424d3d7a8"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2f63f0a6932192d15f7f79424d3d7a8">fIgnoreErrors</a></td></tr>
<tr class="separator:ae2f63f0a6932192d15f7f79424d3d7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75b945b5557089fc18c7d2851a5ba37" id="r_ab75b945b5557089fc18c7d2851a5ba37"><td class="memItemLeft" align="right" valign="top">std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab75b945b5557089fc18c7d2851a5ba37">fLogCategory</a></td></tr>
<tr class="memdesc:ab75b945b5557089fc18c7d2851a5ba37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to survive errors in the processing.  <br /></td></tr>
<tr class="separator:ab75b945b5557089fc18c7d2851a5ba37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6866b3c9feb0e838a195300352e8146e" id="r_a6866b3c9feb0e838a195300352e8146e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowCombinerAlg.html">icarus::trigger::SlidingWindowCombinerAlg</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6866b3c9feb0e838a195300352e8146e">fCombiner</a></td></tr>
<tr class="memdesc:a6866b3c9feb0e838a195300352e8146e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combining algorithm.  <br /></td></tr>
<tr class="separator:a6866b3c9feb0e838a195300352e8146e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Combines trigger channels (V1730 LVDS gates) into sliding windows. </p>
<p>This module combines the input discriminated waveforms into a set of new multi-level discriminated gates according to the geometric criterion of a sliding window.</p>
<p>The combination is a sum of all the discriminated waveforms within the window. Different optical detector planes are treated independently and separately. It is expected that the input is from V1730 LVDS gates (see <code><a class="el" href="classicarus_1_1trigger_1_1LVDSgates.html" title="Combines discriminated PMT outputs into V1730 LVDS gates.">icarus::trigger::LVDSgates</a></code> module) which combine (usually) two optical detector channels each.</p>
<h2>Sliding window configuration </h2>
<p>The size of the window is specified in terms on number of optical detector channels per window and of stride. The windows are allowed to overlap, but they have all the same number of channels. If the parameters yield an invalid configuration, the module will throw an exception.</p>
<p>The definition of a valid window configuration is quite restrictive. Optical detector channels are grouped by the TPC width coordinate (<em>z</em>) into "towers". In ICARUS, a tower is made of either two or three channels, depending on the position in <em>z</em>. A window can't split a tower, but rather has to include whole towers. In addition, the input discriminated waveforms may include information from multiple channels (that is the common case if the input is LVDS gates). A window can't cover only part of the channels of any input, but rather must extend wide enough so that all the channels in the included gates are covered. Channels may be exempted by marking them as "missing". Finally, all the channels which are not "missing" must be covered by at least one window.</p>
<p>For the sliding window configuration to be valid, all the windows starting with an offset multiple of the stride must be valid.</p>
<p>For the standard pairing of LVDS gates in ICARUS, this translates into the only allowed window sizes are by 10 and 15 channels or their multiples, with a stride also in multiples of 10 or 15 respectively. For example, the following configurations are all valid:</p><ul>
<li>10 channels per window, with stride of 10 channels (9 windows per plane);</li>
<li>20 channels per window, with stride of 10 channels (8 windows per plane);</li>
<li>30 channels per window, with stride of 10 channels (7 windows per plane);</li>
<li>15 channels per window, with stride of 15 channels (6 windows per plane);</li>
<li>30 channels per window, with stride of 30 channels (3 windows per plane);</li>
<li>30 channels per window, with stride of 15 channels (5 windows per plane);</li>
<li>45 channels per window, with stride of 45 channels (2 windows per plane).</li>
</ul>
<h1>Input data products </h1>
<ul>
<li><code>std::vector&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a789ddc1ab4d3d30796b8c25c27b67e45" title="Type of trigger gate data serialized into art data products.">icarus::trigger::OpticalTriggerGateData_t</a>&gt;</code> (labels out of <code>TriggerGatesTag</code> and <code>Thresholds</code>): full sets of discriminated waveforms, each waveform possibly covering multiple optical channels, and their associations to waveform metadata (<code><a class="el" href="structsbn_1_1OpDetWaveformMeta.html" title="Derivative information from raw::OpDetWaveform data.">sbn::OpDetWaveformMeta</a></code>). One set per threshold.</li>
</ul>
<h2>Requirements </h2>
<p>The algorithms require that in each set all optical channels are covered.</p>
<h1>Output data products </h1>
<ul>
<li><code>std::vector&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a789ddc1ab4d3d30796b8c25c27b67e45" title="Type of trigger gate data serialized into art data products.">icarus::trigger::OpticalTriggerGateData_t</a>&gt;</code> (instance name: same as the input gates): sets of gates combined according to the window configuration; one set per input threshold.</li>
<li><code>art::Assns&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a789ddc1ab4d3d30796b8c25c27b67e45" title="Type of trigger gate data serialized into art data products.">icarus::trigger::OpticalTriggerGateData_t</a>, <a class="el" href="structsbn_1_1OpDetWaveformMeta.html" title="Derivative information from raw::OpDetWaveform data.">sbn::OpDetWaveformMeta</a>&gt;</code> (instance name: same as the input gates): associations between each produced gate and the metadata of optical waveforms providing the original data.</li>
<li><code>art::Assns&lt;<a class="el" href="namespaceicarus_1_1trigger.html#a789ddc1ab4d3d30796b8c25c27b67e45" title="Type of trigger gate data serialized into art data products.">icarus::trigger::OpticalTriggerGateData_t</a>, raw::OpDetWaveform&gt;</code> (instance name: same as the input gates): associations between each produced gate and the optical waveforms providing the original data. It is produced only if <code>ProduceWaveformAssns</code> configuration parameter is <code>true</code>, and it relies on the assumption that there is an association available between each <code><a class="el" href="structsbn_1_1OpDetWaveformMeta.html" title="Derivative information from raw::OpDetWaveform data.">sbn::OpDetWaveformMeta</a></code> and its <code>raw::OpDetWaveform</code>, produced by the same module (i.e. with the same input tag) as the one of the original <code><a class="el" href="structsbn_1_1OpDetWaveformMeta.html" title="Derivative information from raw::OpDetWaveform data.">sbn::OpDetWaveformMeta</a></code> data product itself.</li>
</ul>
<p>If window selection is requested (with <code>EnableOnlyWindows</code> or <code>DisableWindows</code> configuration parameters), only the selected windows will have an output entry. While each trigger data object comes with all the channels it covers, there is no explicit information of the <em>index</em> of the surviving windows.</p>
<dl class="section note"><dt>Note</dt><dd>At the moment, associations between input and output gates is not produced. <code>art::Assns</code> would not support it, requiring distinct types for the associated objects.</dd></dl>
<h1>Configuration parameters </h1>
<p>A terse description of the parameters is printed by running <code>lar --print-description <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowTrigger.html" title="Combines trigger channels (V1730 LVDS gates) into sliding windows.">SlidingWindowTrigger</a></code>.</p>
<ul>
<li><code>TriggerGatesTag</code> (string, mandatory): name of the module instance which produced the discriminated waveforms; it must not include any instance name, as the instance names will be automatically added from <code>Thresholds</code> parameter.</li>
<li><code>Thresholds</code> (list of strings, mandatory): list of the discrimination thresholds to consider. A data product containing a digital signal is read for each one of the thresholds, and the tag of the data product is expected to be the module label <code>TriggerGatesTag</code> with as instance name the value of the entry in this list. While it is common for this entry to be the actual threshold value in ADC (e.g. <code>"400"</code>), this is not required.</li>
<li><code>WindowSize</code> (integral, mandatory): the number of <em>optical detector channels</em> that every window must include. Note that this is not equivalent to the number of input objects from the <code>TriggerGatesTag</code> data products: for example, in the standard ICARUS configuration, a window spanning 15 channels is generated out of only 8 LVDS input gates.</li>
<li><code>Stride</code> (integral, default: as <code>WindowSize</code>): the base offset, in number of optical detector channels, where to start a new window. Windows are started at all multiples of <code>Stride</code>. For example, windows of 30 channels with <code>Stride</code> 15 will start after 0, 15, 30, 45 and 60 channels on each optical detector plane.</li>
<li><code>EnableOnlyWindows</code> (list of integers, default: omitted): if specified, only the windows with index in this list will be processed and output; mutually exclusive with <code>DisableWindows</code>.</li>
<li><code>DisableWindows</code> (list of integers, default: omitted): if specified, the windows with index in this list will be excluded from processing and from output; mutually exclusive with <code>EnableOnlyWindows</code>.</li>
<li><code>MissingChannels</code> (list of integers, default: empty): the channels whose ID is included in this list are expected and required not to be present in the input (i.e. no input gate should include them).</li>
<li><code>ProduceWaveformAssns</code> (flag, default: <code>true</code>): produce also associations between each gate and the <code>raw::OpDetWaveform</code> which contributed to it.</li>
<li><code>IgnoreErrors</code> (flag, default: <code>false</code>): catch processing exceptions and, in case, just stop processing the current event. Some of the data products may be written, while others not; <em>art</em> won't be happy with this, and module's <code>errorOnFailureToPut</code> option will need to be set to <code>false</code>.</li>
<li><code>LogCategory</code> (string): name of the output stream category for console messages (managed by MessageFacility library).</li>
</ul>
<p><em>Note</em>: when using <code>EnableOnlyWindows</code> or <code>DisableWindows</code> it may be useful to check the output of the module (at construction) to verify that the selected indices match the intended windows. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00217">217</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config" id="structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config">&#9670;&#160;</a></span>icarus::trigger::SlidingWindowTrigger::Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct icarus::trigger::SlidingWindowTrigger::Config</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00223">223</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a698fc74bfbac1dd2097f332e5c370df5" name="a698fc74bfbac1dd2097f332e5c370df5"></a>typedef Comment</td>
<td class="fieldname">
Comment fhicl::Comment</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac4f7a4e906ff047c7509072bafa03a5b" name="ac4f7a4e906ff047c7509072bafa03a5b"></a>typedef Name</td>
<td class="fieldname">
Name fhicl::Name</td>
<td class="fielddoc">
</td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a640df5d16f864f291573a340921142df" name="a640df5d16f864f291573a340921142df"></a>OptionalSequence&lt; size_t &gt;</td>
<td class="fieldname">
DisableWindows</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a836836b425b72882a27fed65c418e317" name="a836836b425b72882a27fed65c418e317"></a>OptionalSequence&lt; size_t &gt;</td>
<td class="fieldname">
EnableOnlyWindows</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a3dfde9e8286822a8f9e6808275971ad6" name="a3dfde9e8286822a8f9e6808275971ad6"></a>Atom&lt; bool &gt;</td>
<td class="fieldname">
IgnoreErrors</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9b023cd0afdebb2faba01946ec60165a" name="a9b023cd0afdebb2faba01946ec60165a"></a>Atom&lt; string &gt;</td>
<td class="fieldname">
LogCategory</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5e795932c9d30602505cb3c046506084" name="a5e795932c9d30602505cb3c046506084"></a>Sequence&lt; Channel_t &gt;</td>
<td class="fieldname">
MissingChannels</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a533d0a0c7dcfa9e35c827738d893212f" name="a533d0a0c7dcfa9e35c827738d893212f"></a>Atom&lt; bool &gt;</td>
<td class="fieldname">
ProduceWaveformAssns</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac359fb4d77527ebac029a491d8956d81" name="ac359fb4d77527ebac029a491d8956d81"></a>OptionalAtom&lt; unsigned int &gt;</td>
<td class="fieldname">
Stride</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6bdbaefe60113d1c260a017c84cab4a9" name="a6bdbaefe60113d1c260a017c84cab4a9"></a>Sequence&lt; string &gt;</td>
<td class="fieldname">
Thresholds</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae286337f38d3d92bb150985bfb1a92a2" name="ae286337f38d3d92bb150985bfb1a92a2"></a>Atom&lt; string &gt;</td>
<td class="fieldname">
TriggerGatesTag</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a51a5651ce12da09b54e17d9bedec02d3" name="a51a5651ce12da09b54e17d9bedec02d3"></a>Atom&lt; unsigned int &gt;</td>
<td class="fieldname">
WindowSize</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a4e23e2e121879739293c66707bb03b83" name="a4e23e2e121879739293c66707bb03b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e23e2e121879739293c66707bb03b83">&#9670;&#160;</a></span>Parameters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using icarus::trigger::SlidingWindowTrigger::Parameters = art::EDProducer::Table&lt;<a class="el" href="#structicarus_1_1trigger_1_1SlidingWindowTrigger_1_1Config">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00290">290</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="ad1b6da0db6d67a7437f4123179641775" name="ad1b6da0db6d67a7437f4123179641775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1b6da0db6d67a7437f4123179641775">&#9670;&#160;</a></span>TrackedTriggerGate_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ad1b6da0db6d67a7437f4123179641775">icarus::trigger::SlidingWindowTrigger::TrackedTriggerGate_t</a> = <a class="el" href="namespaceicarus_1_1trigger.html#a3d74537ebeb98f2f58fa8830967c62e7">icarus::trigger::TrackedOpticalTriggerGate</a>&lt;<a class="el" href="structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reconstituted trigger gate type internally used. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00322">322</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="ad84663fe3a5c410aa77bced888818343" name="ad84663fe3a5c410aa77bced888818343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84663fe3a5c410aa77bced888818343">&#9670;&#160;</a></span>TriggerGateData_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classicarus_1_1trigger_1_1ReadoutTriggerGate.html">icarus::trigger::SlidingWindowTrigger::TriggerGateData_t</a> = <a class="el" href="classicarus_1_1trigger_1_1OpticalTriggerGate.html#a2b9986e0e920b11a5dfdc5a963f2a1c2">icarus::trigger::OpticalTriggerGate::GateData_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00319">319</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="a325b22ca0c4226b809b10b7caaef952f" name="a325b22ca0c4226b809b10b7caaef952f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a325b22ca0c4226b809b10b7caaef952f">&#9670;&#160;</a></span>WindowDefs_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a325b22ca0c4226b809b10b7caaef952f">icarus::trigger::SlidingWindowTrigger::WindowDefs_t</a> = <a class="el" href="namespaceicarus_1_1trigger.html#aa33c84b956fca78ac1326d3b4f8f58af">icarus::trigger::TriggerWindowDefs_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition of all windows. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00317">317</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af5b981593eaaa97607dd9c91c8219109" name="af5b981593eaaa97607dd9c91c8219109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b981593eaaa97607dd9c91c8219109">&#9670;&#160;</a></span>SlidingWindowTrigger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::SlidingWindowTrigger::SlidingWindowTrigger </td>
          <td>(</td>
          <td class="paramtype">Parameters const &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00414">414</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8bf17526b3a3aea014b0978d32715ee9" name="a8bf17526b3a3aea014b0978d32715ee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bf17526b3a3aea014b0978d32715ee9">&#9670;&#160;</a></span>defineWindows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowTrigger::defineWindows </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines the channels falling in each window. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00524">524</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

<p class="reference">References <a class="el" href="classicarus_1_1trigger_1_1SlidingWindowDefinitionAlg.html#a983a574f3f01df19b58b96cc9a075f2d">icarus::trigger::SlidingWindowDefinitionAlg::makeWindows()</a>.</p>

</div>
</div>
<a id="a975f6927da1c2322a56646ac1cb8a8be" name="a975f6927da1c2322a56646ac1cb8a8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a975f6927da1c2322a56646ac1cb8a8be">&#9670;&#160;</a></span>makeEnabledWindowIndices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowTrigger::makeEnabledWindowIndices </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>nWindows</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fhicl::OptionalSequence&lt; std::size_t &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>disabled</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of enabled window indices. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00613">613</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="adad5e2b1d3049cbdacf7926c35c1b519" name="adad5e2b1d3049cbdacf7926c35c1b519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad5e2b1d3049cbdacf7926c35c1b519">&#9670;&#160;</a></span>nDisabledWindows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int icarus::trigger::SlidingWindowTrigger::nDisabledWindows </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of disabled windows. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00353">353</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="adb9b5754dd399bcc1673c16239d52c4c" name="adb9b5754dd399bcc1673c16239d52c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb9b5754dd399bcc1673c16239d52c4c">&#9670;&#160;</a></span>produce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowTrigger::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills the plots. Also extracts the information to fill them with. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00497">497</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

<p class="reference">References <a class="el" href="#a166fe1d747af8efff5c9c5004a6173af">fADCthresholds</a>, <a class="el" href="#ab75b945b5557089fc18c7d2851a5ba37">fLogCategory</a>, and <a class="el" href="#a49af488396bda2c254cd1a269d69b1b0">produceThreshold()</a>.</p>

</div>
</div>
<a id="a49af488396bda2c254cd1a269d69b1b0" name="a49af488396bda2c254cd1a269d69b1b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49af488396bda2c254cd1a269d69b1b0">&#9670;&#160;</a></span>produceThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowTrigger::produceThreshold </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceicarus_1_1trigger.html#a1a363eee8e52a3a52915a85b1220f18b">icarus::trigger::OpDetWaveformMetaDataProductMap_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>waveformMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>threshold</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::InputTag const &amp;</td>          <td class="paramname"><span class="paramname"><em>dataTag</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the combination for data with a specified threshold. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00540">540</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

<p class="reference">References <a class="el" href="namespaceicarus_1_1trigger.html#aebff9cf9dbb5c8a3591bb9312725499a">icarus::trigger::compactdump()</a>, <a class="el" href="namespaceicarus_1_1trigger.html#acd9edd5a2e2064c7ec0d2eacce5df61a">icarus::trigger::ReadTriggerGates()</a>, and <a class="el" href="namespaceicarus_1_1trigger.html#a5e3e2f0504cab0c10790916793f11381">icarus::trigger::transformIntoOpticalTriggerGate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#adb9b5754dd399bcc1673c16239d52c4c">produce()</a>.</p>

</div>
</div>
<a id="a624877fef5572c156015acc57baaf1ef" name="a624877fef5572c156015acc57baaf1ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624877fef5572c156015acc57baaf1ef">&#9670;&#160;</a></span>ReadTriggerGates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::SlidingWindowTrigger::ReadTriggerGates </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::InputTag const &amp;</td>          <td class="paramname"><span class="paramname"><em>dataTag</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceicarus_1_1trigger.html#a1a363eee8e52a3a52915a85b1220f18b">icarus::trigger::OpDetWaveformMetaDataProductMap_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>waveformMap</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a set of input gates from the <code>event</code> and updates <code>waveformMap</code>. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00653">653</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

<p class="reference">References <a class="el" href="namespaceicarus_1_1trigger.html#ad698f9a75039e30134185f65943904dd">icarus::trigger::FillTriggerGates()</a>.</p>

</div>
</div>
<a id="a30574daf2d5c652e478eab7d67e35e27" name="a30574daf2d5c652e478eab7d67e35e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30574daf2d5c652e478eab7d67e35e27">&#9670;&#160;</a></span>UpdateWaveformMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::SlidingWindowTrigger::UpdateWaveformMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceicarus_1_1trigger.html#a1a363eee8e52a3a52915a85b1220f18b">icarus::trigger::OpDetWaveformMetaDataProductMap_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>map</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::Assns&lt; <a class="el" href="classicarus_1_1trigger_1_1ReadoutTriggerGate.html">TriggerGateData_t</a>, <a class="el" href="structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a> &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>assns</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the waveforms in the specified association to the waveform <code>map</code>. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00641">641</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a166fe1d747af8efff5c9c5004a6173af" name="a166fe1d747af8efff5c9c5004a6173af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a166fe1d747af8efff5c9c5004a6173af">&#9670;&#160;</a></span>fADCthresholds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, art::InputTag&gt; icarus::trigger::SlidingWindowTrigger::fADCthresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADC thresholds to read, and the input tag connected to their data. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00327">327</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#adb9b5754dd399bcc1673c16239d52c4c">produce()</a>.</p>

</div>
</div>
<a id="a6866b3c9feb0e838a195300352e8146e" name="a6866b3c9feb0e838a195300352e8146e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6866b3c9feb0e838a195300352e8146e">&#9670;&#160;</a></span>fCombiner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classicarus_1_1trigger_1_1SlidingWindowCombinerAlg.html">icarus::trigger::SlidingWindowCombinerAlg</a> const icarus::trigger::SlidingWindowTrigger::fCombiner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Combining algorithm. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00349">349</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="afec33ae0e28cce09fcaafdbbad5c0d73" name="afec33ae0e28cce09fcaafdbbad5c0d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec33ae0e28cce09fcaafdbbad5c0d73">&#9670;&#160;</a></span>fEnabledWindows</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::size_t&gt; const icarus::trigger::SlidingWindowTrigger::fEnabledWindows</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of windows to be included. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00336">336</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="ae2f63f0a6932192d15f7f79424d3d7a8" name="ae2f63f0a6932192d15f7f79424d3d7a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f63f0a6932192d15f7f79424d3d7a8">&#9670;&#160;</a></span>fIgnoreErrors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool const icarus::trigger::SlidingWindowTrigger::fIgnoreErrors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00341">341</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="ab75b945b5557089fc18c7d2851a5ba37" name="ab75b945b5557089fc18c7d2851a5ba37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75b945b5557089fc18c7d2851a5ba37">&#9670;&#160;</a></span>fLogCategory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const icarus::trigger::SlidingWindowTrigger::fLogCategory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to survive errors in the processing. </p>
<p>Message facility stream category for output. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00344">344</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#adb9b5754dd399bcc1673c16239d52c4c">produce()</a>.</p>

</div>
</div>
<a id="a4df15cb37b3788cc1be65655ca50d767" name="a4df15cb37b3788cc1be65655ca50d767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df15cb37b3788cc1be65655ca50d767">&#9670;&#160;</a></span>fProduceWaveformAssns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool const icarus::trigger::SlidingWindowTrigger::fProduceWaveformAssns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to produce gate/waveform associations. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00339">339</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="a731b9f8deb4255ba7c51ffb9ebe36019" name="a731b9f8deb4255ba7c51ffb9ebe36019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a731b9f8deb4255ba7c51ffb9ebe36019">&#9670;&#160;</a></span>fWindowChannels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a325b22ca0c4226b809b10b7caaef952f">WindowDefs_t</a> const icarus::trigger::SlidingWindowTrigger::fWindowChannels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Channel content of each window. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00333">333</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="abf28f1719fade00a82f95f0701a64005" name="abf28f1719fade00a82f95f0701a64005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf28f1719fade00a82f95f0701a64005">&#9670;&#160;</a></span>fWindowSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int const icarus::trigger::SlidingWindowTrigger::fWindowSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sliding window size in number of channels. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00329">329</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<a id="ab496ace5ad3d19e6fca738d5d5b2602d" name="ab496ace5ad3d19e6fca738d5d5b2602d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab496ace5ad3d19e6fca738d5d5b2602d">&#9670;&#160;</a></span>fWindowStride</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int const icarus::trigger::SlidingWindowTrigger::fWindowStride</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sliding window base offset. </p>

<p class="definition">Definition at line <a class="el" href="SlidingWindowTrigger__module_8cc_source.html#l00330">330</a> of file <a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>icaruscode/icaruscode/PMT/Trigger/<a class="el" href="SlidingWindowTrigger__module_8cc_source.html">SlidingWindowTrigger_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
