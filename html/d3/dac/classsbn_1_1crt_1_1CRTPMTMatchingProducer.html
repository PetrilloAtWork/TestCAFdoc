<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAF format: sbn::crt::CRTPMTMatchingProducer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/TeX/AMSmath','[tex]/TeX/AMSsymbols']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','TeX/AMSmath','TeX/AMSsymbols']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAF format<span id="projectnumber">&#160;${SBNANAOBJ_VERSION}</span>
   </div>
   <div id="projectbrief">Simulation, reconstruction and analysis software for the ICARUS experiment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d7/d67/namespacesbn.html">sbn</a></li><li class="navelem"><b>crt</b></li><li class="navelem"><a class="el" href="../../d3/dac/classsbn_1_1crt_1_1CRTPMTMatchingProducer.html">CRTPMTMatchingProducer</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d7/d6c/classsbn_1_1crt_1_1CRTPMTMatchingProducer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sbn::crt::CRTPMTMatchingProducer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Extracts and saves matches between CRT hits and PMT flashes.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for sbn::crt::CRTPMTMatchingProducer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d3/dac/classsbn_1_1crt_1_1CRTPMTMatchingProducer.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config" id="r_d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config">Config</a></td></tr>
<tr class="separator:d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1bfd431b0866c11eefaebfad466d95be" id="r_a1bfd431b0866c11eefaebfad466d95be"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bfd431b0866c11eefaebfad466d95be">CRTHit</a> = <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a></td></tr>
<tr class="separator:a1bfd431b0866c11eefaebfad466d95be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377fcc9b3f65e261c91db72864e30630" id="r_a377fcc9b3f65e261c91db72864e30630"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a377fcc9b3f65e261c91db72864e30630">CRTPMTMatching</a> = <a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a></td></tr>
<tr class="separator:a377fcc9b3f65e261c91db72864e30630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f45cd025c5061df62d3911f4e0d51d0" id="r_a7f45cd025c5061df62d3911f4e0d51d0"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f45cd025c5061df62d3911f4e0d51d0">Parameters</a> = art::SharedProducer::Table&lt;<a class="el" href="#d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config">Config</a>&gt;</td></tr>
<tr class="separator:a7f45cd025c5061df62d3911f4e0d51d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a169d7cf3c8b73385af8dc26252404c73" id="r_a169d7cf3c8b73385af8dc26252404c73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a169d7cf3c8b73385af8dc26252404c73">CRTPMTMatchingProducer</a> (Parameters const &amp;p, art::ProcessingFrame const &amp;)</td></tr>
<tr class="separator:a169d7cf3c8b73385af8dc26252404c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31413d819df386f4d77907e972ef7923" id="r_a31413d819df386f4d77907e972ef7923"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31413d819df386f4d77907e972ef7923">produce</a> (art::Event &amp;e, art::ProcessingFrame const &amp;) override</td></tr>
<tr class="separator:a31413d819df386f4d77907e972ef7923"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a36da56e952f1ff0a4669f53a874187b9" id="r_a36da56e952f1ff0a4669f53a874187b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/de0/structsbn_1_1crt_1_1MatchedCRT.html">sbn::crt::MatchedCRT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36da56e952f1ff0a4669f53a874187b9">makeMatchedCRT</a> (<a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a> const &amp;hit, double tflash, bool isRealData) const</td></tr>
<tr class="memdesc:a36da56e952f1ff0a4669f53a874187b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <code><a class="el" href="../../df/de0/structsbn_1_1crt_1_1MatchedCRT.html" title="Information about a CRT hit matched with a PMT flash.">MatchedCRT</a></code> out of the provided information.  <br /></td></tr>
<tr class="separator:a36da56e952f1ff0a4669f53a874187b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a91bfaf0cef60b4912573b258e6afa6f0" id="r_a91bfaf0cef60b4912573b258e6afa6f0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; art::InputTag &gt; const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91bfaf0cef60b4912573b258e6afa6f0">fFlashLabels</a></td></tr>
<tr class="memdesc:a91bfaf0cef60b4912573b258e6afa6f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">All optical flash input tags.  <br /></td></tr>
<tr class="separator:a91bfaf0cef60b4912573b258e6afa6f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0566ebcafb1c1a6e8a0b780c3b279f2b" id="r_a0566ebcafb1c1a6e8a0b780c3b279f2b"><td class="memItemLeft" align="right" valign="top">art::InputTag const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0566ebcafb1c1a6e8a0b780c3b279f2b">fCrtHitModuleLabel</a></td></tr>
<tr class="memdesc:a0566ebcafb1c1a6e8a0b780c3b279f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of CRT producer.  <br /></td></tr>
<tr class="separator:a0566ebcafb1c1a6e8a0b780c3b279f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e86781035ca53e5516ccaf57426023" id="r_a80e86781035ca53e5516ccaf57426023"><td class="memItemLeft" align="right" valign="top">art::InputTag const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80e86781035ca53e5516ccaf57426023">fTriggerLabel</a></td></tr>
<tr class="memdesc:a80e86781035ca53e5516ccaf57426023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of trigger producer.  <br /></td></tr>
<tr class="separator:a80e86781035ca53e5516ccaf57426023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ecb3f1fa7b209348ba8921dda65968" id="r_ac0ecb3f1fa7b209348ba8921dda65968"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0ecb3f1fa7b209348ba8921dda65968">fTimeOfFlightInterval</a></td></tr>
<tr class="memdesc:ac0ecb3f1fa7b209348ba8921dda65968"><td class="mdescLeft">&#160;</td><td class="mdescRight">CRT-PMT time difference interval to find the match.  <br /></td></tr>
<tr class="separator:ac0ecb3f1fa7b209348ba8921dda65968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f94b7a3567424f18f3e8c1685e69bf" id="r_aa8f94b7a3567424f18f3e8c1685e69bf"><td class="memItemLeft" align="right" valign="top">int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8f94b7a3567424f18f3e8c1685e69bf">fPMTADCThresh</a></td></tr>
<tr class="memdesc:aa8f94b7a3567424f18f3e8c1685e69bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC amplitude for a PMT to be considered above threshold.  <br /></td></tr>
<tr class="separator:aa8f94b7a3567424f18f3e8c1685e69bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd1e7e44e73b80278f4ca38adf96aea" id="r_a0bd1e7e44e73b80278f4ca38adf96aea"><td class="memItemLeft" align="right" valign="top">int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bd1e7e44e73b80278f4ca38adf96aea">fnOpHitToTrigger</a></td></tr>
<tr class="memdesc:a0bd1e7e44e73b80278f4ca38adf96aea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of OpHit above threshold to mimic the triggering PMT.  <br /></td></tr>
<tr class="separator:a0bd1e7e44e73b80278f4ca38adf96aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f60799fdd491eeb99530aec8c49bcc5" id="r_a0f60799fdd491eeb99530aec8c49bcc5"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f60799fdd491eeb99530aec8c49bcc5">fGlobalT0Offset</a></td></tr>
<tr class="memdesc:a0f60799fdd491eeb99530aec8c49bcc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">1.6 ms delay to shift CRT Hit T0, the CRT Timing variable we use in MC.  <br /></td></tr>
<tr class="separator:a0f60799fdd491eeb99530aec8c49bcc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14ed00e696fd44dc4adaf969f337c9e" id="r_af14ed00e696fd44dc4adaf969f337c9e"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af14ed00e696fd44dc4adaf969f337c9e">fMatchBottomCRT</a></td></tr>
<tr class="memdesc:af14ed00e696fd44dc4adaf969f337c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bool fcl value to perform matching on bottom CRT Hits if true, currently set to false.  <br /></td></tr>
<tr class="separator:af14ed00e696fd44dc4adaf969f337c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06002176a7685aff32262a1ca5d77c71" id="r_a06002176a7685aff32262a1ca5d77c71"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06002176a7685aff32262a1ca5d77c71">fBNBBeamGateMin</a></td></tr>
<tr class="separator:a06002176a7685aff32262a1ca5d77c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ed6f44110c48e9d8de1da881c9f1bb" id="r_a73ed6f44110c48e9d8de1da881c9f1bb"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73ed6f44110c48e9d8de1da881c9f1bb">fBNBBeamGateMax</a></td></tr>
<tr class="separator:a73ed6f44110c48e9d8de1da881c9f1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf594975bcfe6956a7914ce1ae207452" id="r_abf594975bcfe6956a7914ce1ae207452"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf594975bcfe6956a7914ce1ae207452">fBNBinBeamMin</a></td></tr>
<tr class="separator:abf594975bcfe6956a7914ce1ae207452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b61250adfa41f86e18eb590d45c7ac" id="r_a59b61250adfa41f86e18eb590d45c7ac"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59b61250adfa41f86e18eb590d45c7ac">fBNBinBeamMax</a></td></tr>
<tr class="separator:a59b61250adfa41f86e18eb590d45c7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899d7d3adbd278f9eee437ee9e3ef300" id="r_a899d7d3adbd278f9eee437ee9e3ef300"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a899d7d3adbd278f9eee437ee9e3ef300">fNuMIBeamGateMin</a></td></tr>
<tr class="separator:a899d7d3adbd278f9eee437ee9e3ef300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c8788bf1fa65de2b0cf3aa593ff82fb" id="r_a4c8788bf1fa65de2b0cf3aa593ff82fb"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c8788bf1fa65de2b0cf3aa593ff82fb">fNuMIBeamGateMax</a></td></tr>
<tr class="separator:a4c8788bf1fa65de2b0cf3aa593ff82fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc3211561bfc1fa8a37eb84b0622116" id="r_afdc3211561bfc1fa8a37eb84b0622116"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afdc3211561bfc1fa8a37eb84b0622116">fNuMIinBeamMin</a></td></tr>
<tr class="separator:afdc3211561bfc1fa8a37eb84b0622116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f552c27df122909a2dd6725a2be86dc" id="r_a3f552c27df122909a2dd6725a2be86dc"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f552c27df122909a2dd6725a2be86dc">fNuMIinBeamMax</a></td></tr>
<tr class="separator:a3f552c27df122909a2dd6725a2be86dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac053122c07b8e60db8c153fb88654327" id="r_ac053122c07b8e60db8c153fb88654327"><td class="memItemLeft" align="right" valign="top">geo::GeometryCore const  *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac053122c07b8e60db8c153fb88654327">fGeometryService</a></td></tr>
<tr class="memdesc:ac053122c07b8e60db8c153fb88654327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to Geometry provider.  <br /></td></tr>
<tr class="separator:ac053122c07b8e60db8c153fb88654327"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Extracts and saves matches between CRT hits and PMT flashes. </p>
<p>Matching between reconstructed CRT hits and optical flashes is driven by the time difference between them.</p>
<p>Only flashes with a minimum amount (<code>nOpHitToTrigger</code>) of contributing PMT above a certain amplitude threshold (<code>PMTADCThresh</code>) are considered for matching. Matches are considered successful if they are not farther than a time cutoff (<code>TimeOfFlightInterval</code>). Either way, all candidate flashes have matching information saved, even just to say that the matching failed. A single CRT hit may in principle be matched to multiple flashes. In practice this is unlikely since it is rare to have multiple flashes close enough in time to match the same CRT hit time.</p>
<p>This module also works for simulated events, provided that trigger simulation results are available, a proper CRT time offset is specified in the configuration and beam gate limits are also configured.</p>
<h3>Timing</h3>
<p>The time of a flash used to match it to CRT hits is not taken from the data product, but rather computed anew, as the earliest peak time (<code>rceob::OpHit::PeakTime()</code>) among the hits associated to the flash.</p>
<p>The time of a CRT hit from a <em>data</em> sample is taken directly from the timestamp 1 (<code><a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html#a38207a423ae3242f331fb4b944589cdb" title="Timestamp T1 ([signal time w.r.t. Trigger time]),.">sbn::crt::CRTHit::ts1_ns</a></code>). For a simulated sample, instead, the absolute timestamp 0 is used (<code>sbn::crt::CRTHit::ts0()</code>), compared with a time offset specified in the configuration (<code>GlobalT0Offset</code>).</p>
<h2>Configuration parameters </h2>
<p>All parameters for which no default value is reported are mandatory.</p>
<ul>
<li><code>OpFlashModuleLabels</code> (sequence of input tags): list of reconstructed PMT flash data products to be matched to CRT hits.</li>
<li><code>CrtHitModuleLabel</code> (input tag, default: <code>crthit</code>): data product with the reconstructed CRT hits to be matched to the flashes above.</li>
<li><code>TriggerLabel</code> (input tag, default: <code>daqTrigger</code>): data product containing hardware trigger information. It may be from simulation. To omit the trigger information, an empty tag can be specified; if the specified trigger data product is not available, a warning will be printed on console, but the processing will continue.</li>
<li><code>TimeOfFlightInterval</code> (real number, nanoseconds): the maximum time between a CRT hit and a flash in order to consider them matched.</li>
<li><code>PMTADCThresh</code> (integral number, PMT ADC counts): optical hits with amplitude lower than this do not contribute to the contributing hit count of a flash.</li>
<li><code>nOpHitToTrigger</code> (integral number): minimum number of contributing reconstructed optical hits to a flash; flashes contributed by fewer hits will not be matched.</li>
<li><code>GlobalT0Offset</code> (real number, nanoseconds): offset used in simulation, equivalent to the CRT hit timestamp (TS0) at the time of the reference trigger.</li>
<li><code>MatchBottomCRT</code> (flag): if unset, the CRT hits from the bottom regions will be ignored.</li>
<li><code>BNBBeamGateMin</code>, <code>BNBBeamGateMax</code>, <code>NuMIBeamGateMin</code>, <code>NuMIBeamGateMax</code> (real numbers, nanoseconds): the start and stop of the beam gates, i.e. the time while the trigger is active for an event. This interval is used to determine the value <code>flashInGate</code> of the matching. The intervals are specified independently for BNB and NuMI gates (on-beam and off-beam gates share the same gate interval). See below for the definition of the time scale.</li>
<li><code>BNBinBeamMin</code>, <code>BNBinBeamMax</code>, <code>NuMIinBeamMin</code>, <code>NuMIinBeamMax</code> (real numbers, nanoseconds): the start and stop of the beam spill time, i.e. the time at which neutrinos from the accelerator pass through the detector. This interval is used to determine the value <code>flashInBeam</code> of the matching. The intervals are specified independently for BNB and NuMI gates (on-beam and off-beam gates share the same gate interval). The times are relative to the beam gate opening timestamp; see below for an explanation of the scale of these times.</li>
</ul>
<h3>Time intervals for the determination of flashes inside beam gates.</h3>
<p>The gate interval parameters are on a time scale with as reference the beam gate opening time from the hardware. Ideally, this means that the <code>BNBBeamGateMin</code> and <code>NuMIBeamGateMin</code> parameters would evaluate to <code>0</code>. In practice the beam gate time (and also the trigger time) as stamped by the hardware may not match the actual beam gate opening, and these values need to be aligned with some calibration.</p>
<p>Therefore, effectively <code>BNBBeamGateMin</code> represents how much before (negative sign) or after (positive sign) a flash happening exactly at the time of the beam gate opening would be reconstructed with respect to the beam gate timestamp. The best way to determine these values is empirically from a distribution of the time of reconstructed flashes in a sample of majority-triggered events, which should appear like a continuum with a step due to the opening of the beam gate (which is biassed because of the presence of the trigger) and a further step due to the presence of the neutrinos. The first plateau defines the beam gate interval (<code>XxxxBeamGateXxx</code>), the second one defined the spill interval (<code>XxxxinBeamXxx</code>).</p>
<h2>Input </h2>
<ul>
<li><code>std::vector&lt;recob::OpFlash&gt;</code> (all tags from <code>OpFlashModuleLabels</code>): the collections of flashes to match. All the flashes are treated the same, independently of which of the collections they come from.</li>
<li><code>std::vector&lt;<a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a>&gt;</code> (tag from <code>CrtHitModuleLabel</code>): the CRT hits to match to the flashes.</li>
<li><code><a class="el" href="../../dc/d51/structsbn_1_1ExtraTriggerInfo.html" title="Additional information on trigger.">sbn::ExtraTriggerInfo</a></code> (tag from <code>TriggerLabel</code>): if available, information whether the flash is at beam time and in the beam gate time are saved. It is otherwise optional.</li>
</ul>
<h2>Output </h2>
<ul>
<li><code>std::vector&lt;<a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a>&gt;</code>: an entry for each matched flash. Entries are sorted by flast time, from the earliest to the latest, irregardless of which of the input flash collections they come from. Each entry contains information of all the matched CRT hits and the type of the matching:<ul>
<li><code>flashID</code>: an ID made up out of the flash content (<code>sbn::crt::makeFlashID()</code>).</li>
<li><code>flashTime</code>: from <code>recob::OpFlash::Time()</code>.</li>
<li><code>flashGateTime</code>: time of the flash from the beam gate opening.</li>
<li><code>firstOpHitPeakTime</code>: first <code>recob::OpHit::PeakTime()</code> in the flash.</li>
<li><code>firstOpHitStartTime</code>: from <code>recob::OpHit::StartTime()</code> in the flash; only filled if present in the hit (<code>HasStartTime()</code>).</li>
<li><code>flashInGate</code>: whether the flash is in the beam gate interval as configured via <code>BNBinBeamMin</code>/<code>BNBinBeamMax</code> or the corresponding settings for NuMI beam.</li>
<li><code>flashInBeam</code>: whether the flash is in the beam gate interval as configured via <code>BNBBeamGateMin</code>/<code>BNBBeamGateMax</code> or the corresponding settings for NuMI beam.</li>
<li><code>flashPE</code>: <code>recob::OpFlash::TotalPE()</code> saved in the flash.</li>
<li><code>flashPosition</code>: centroid of the flash, recomputed as the average of the position of the contributing PMTs, weighted by the amplitude of their hits.</li>
<li><code>flashYWidth</code>: from <code>recob::OpFlash::YWidth()</code>.</li>
<li><code>flashZWidth</code>: from <code>recob::OpFlash::ZWidth()</code>.</li>
<li><code>flashClassification</code>: the topology of this track, according to the categories in <code>sbn::crt::MatchType</code>; i.e. if it is a particle that seems to be entering from the top, or exiting from within, etc.</li>
<li><code>matchedCRTHits</code> (<code><a class="el" href="../../df/de0/structsbn_1_1crt_1_1MatchedCRT.html" title="Information about a CRT hit matched with a PMT flash.">sbn::crt::MatchedCRT</a></code>): for each CRT hit matched to the flash, information on its location and time relative to the flash. *<code>pos</code>: the location of the hit in space.<ul>
<li><code>PMTTimeDiff</code> [&micro;s]: the time of flight computed using the flash time as described above (not <code>recob::OpFlash::Time()</code>); it is also the time on which the matching decision was taken, and the time that settles the relative time of hit and flash.</li>
<li><code>time</code> [&micro;s]: the time of the matched CRT hit.</li>
<li><code>region</code>: the number of CRT region where the matched hit is.</li>
<li><code>sys</code>: which subdetector the hit is in; <code>0</code> for top CRT, <code>1</code> for side CRT.</li>
</ul>
</li>
<li><code>nTopCRTHitsBefore</code>: not saved yet (left to default value).</li>
<li><code>nTopCRTHitsAfter</code>: not saved yet (left to default value).</li>
<li><code>nSideCRTHitsBefore</code>: not saved yet (left to default value).</li>
<li><code>nSideCRTHitsAfter</code>: not saved yet (left to default value).</li>
</ul>
</li>
<li><code>art::Assns&lt;<a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a>, recob::OpFlash&gt;</code>: associations linking the matched flash and the match information; this is a one-to-one association; all <code><a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a></code> objects in the association come from the collection data product documented above, and all have exactly one associated flash. Flashes that were not matched are not present in this association.</li>
<li><code>art::Assns&lt;<a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a>, <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a>&gt;</code>: associations linking the matched CRT hits and the match information; this is a one-to-many association; all <code><a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a></code> objects in the association come from the collection data product documented above, and they may have one or more CRT hits associated to them. CRT hits that were not matched are not present in this association. Also failed matches, with no CRT hit, are not present.</li>
<li><code>art::Assns&lt;recob::OpFlash, <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a>, <a class="el" href="../../dc/d44/structsbn_1_1crt_1_1CRTPMTMatchingInfo.html">sbn::crt::CRTPMTMatchingInfo</a>&gt;</code>: direct association between a flash and its matched CRT hit (or hits); this is a one-to-many association. This information is redundant with the other two associations produced by this module. Metadata includes:<ul>
<li><code>timeOfFlight</code>: time of flight between hit and flash [&micro;s]</li>
<li><code>direction</code>, derived from the time of flight, of the flash compared to the hit.</li>
<li><code>distance</code> between the reconstructed CRT hit position and the centroid of the reconstructed flash [cm]</li>
</ul>
</li>
</ul>
<h2>Services </h2>
<ul>
<li><code>Geometry</code> for the determination of the position of the PMT</li>
</ul>
<h2>Multithreading </h2>
<p>The module currently supports <em>art</em> multithreading, i.e. the processing of multiple events in the same run (and subrun) at the same time. It does not directly use any multithreading within its code. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00248">248</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config" id="d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config">&#9670;&#160;</a></span>sbn::crt::CRTPMTMatchingProducer::Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sbn::crt::CRTPMTMatchingProducer::Config</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00253">253</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a42a7f14c9eb4ce26f5eb10b2cb904d98" name="a42a7f14c9eb4ce26f5eb10b2cb904d98"></a>typedef Comment</td>
<td class="fieldname">
Comment fhicl::Comment</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae4cc9cc7447d327418f0bc95ac56c3d4" name="ae4cc9cc7447d327418f0bc95ac56c3d4"></a>typedef Name</td>
<td class="fieldname">
Name fhicl::Name</td>
<td class="fielddoc">
</td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a759a28d5918a58fb6640c8a0ee067e5a" name="a759a28d5918a58fb6640c8a0ee067e5a"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
BNBBeamGateMax</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9b182883ced143f80df76d7eef43920d" name="a9b182883ced143f80df76d7eef43920d"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
BNBBeamGateMin</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a93cc3b10ab869a30b2f9fb994de407bb" name="a93cc3b10ab869a30b2f9fb994de407bb"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
BNBinBeamMax</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a67100061db7ea4a2673afe2900d57e1a" name="a67100061db7ea4a2673afe2900d57e1a"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
BNBinBeamMin</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aeda5830467d2d036b889387444c67bb6" name="aeda5830467d2d036b889387444c67bb6"></a>Atom&lt; InputTag &gt;</td>
<td class="fieldname">
CrtHitModuleLabel</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="aa46e653cd37c718ae2aef33709a8a3ea" name="aa46e653cd37c718ae2aef33709a8a3ea"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
GlobalT0Offset</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a97294b3b47012bbe1e7243f92e0b5405" name="a97294b3b47012bbe1e7243f92e0b5405"></a>Atom&lt; bool &gt;</td>
<td class="fieldname">
MatchBottomCRT</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a37c8c8c54484e8992ca9cc9f3f19cfa6" name="a37c8c8c54484e8992ca9cc9f3f19cfa6"></a>Atom&lt; int &gt;</td>
<td class="fieldname">
nOpHitToTrigger</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a9900932b23271720c5b8267d544e4235" name="a9900932b23271720c5b8267d544e4235"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
NuMIBeamGateMax</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="acacd6456c5baa3b64459c7f5fbec4bba" name="acacd6456c5baa3b64459c7f5fbec4bba"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
NuMIBeamGateMin</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2cf935735e48019a3766e481041cbad8" name="a2cf935735e48019a3766e481041cbad8"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
NuMIinBeamMax</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ab20c8620423fc25a15bb1db5978fb887" name="ab20c8620423fc25a15bb1db5978fb887"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
NuMIinBeamMin</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac07f9d9d2a3f433ebc4c0110850dbe6a" name="ac07f9d9d2a3f433ebc4c0110850dbe6a"></a>Sequence&lt; InputTag &gt;</td>
<td class="fieldname">
OpFlashModuleLabels</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ae23dff702959b2ef0ae8d0f247878407" name="ae23dff702959b2ef0ae8d0f247878407"></a>Atom&lt; int &gt;</td>
<td class="fieldname">
PMTADCThresh</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac15d9dadc91ebd5852a703352921fe7b" name="ac15d9dadc91ebd5852a703352921fe7b"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
TimeOfFlightInterval</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a320b7ba65938f41fc96db80d34da4792" name="a320b7ba65938f41fc96db80d34da4792"></a>Atom&lt; InputTag &gt;</td>
<td class="fieldname">
TriggerLabel</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a1bfd431b0866c11eefaebfad466d95be" name="a1bfd431b0866c11eefaebfad466d95be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bfd431b0866c11eefaebfad466d95be">&#9670;&#160;</a></span>CRTHit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTPMTMatchingProducer::CRTHit</a> = <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00251">251</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a377fcc9b3f65e261c91db72864e30630" name="a377fcc9b3f65e261c91db72864e30630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377fcc9b3f65e261c91db72864e30630">&#9670;&#160;</a></span>CRTPMTMatching</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatchingProducer::CRTPMTMatching</a> = <a class="el" href="../../d8/de1/structsbn_1_1crt_1_1CRTPMTMatching.html">sbn::crt::CRTPMTMatching</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00252">252</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a7f45cd025c5061df62d3911f4e0d51d0" name="a7f45cd025c5061df62d3911f4e0d51d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f45cd025c5061df62d3911f4e0d51d0">&#9670;&#160;</a></span>Parameters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using sbn::crt::CRTPMTMatchingProducer::Parameters = art::SharedProducer::Table&lt;<a class="el" href="#d9/d14/structsbn_1_1crt_1_1CRTPMTMatchingProducer_1_1Config">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00344">344</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a169d7cf3c8b73385af8dc26252404c73" name="a169d7cf3c8b73385af8dc26252404c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169d7cf3c8b73385af8dc26252404c73">&#9670;&#160;</a></span>CRTPMTMatchingProducer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sbn::crt::CRTPMTMatchingProducer::CRTPMTMatchingProducer </td>
          <td>(</td>
          <td class="paramtype">Parameters const &amp;</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::ProcessingFrame const &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00391">391</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a36da56e952f1ff0a4669f53a874187b9" name="a36da56e952f1ff0a4669f53a874187b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36da56e952f1ff0a4669f53a874187b9">&#9670;&#160;</a></span>makeMatchedCRT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/de0/structsbn_1_1crt_1_1MatchedCRT.html">sbn::crt::MatchedCRT</a> sbn::crt::CRTPMTMatchingProducer::makeMatchedCRT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html">sbn::crt::CRTHit</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>hit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>tflash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isRealData</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a <code><a class="el" href="../../df/de0/structsbn_1_1crt_1_1MatchedCRT.html" title="Information about a CRT hit matched with a PMT flash.">MatchedCRT</a></code> out of the provided information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hit</td><td>the matched CRT hit </td></tr>
    <tr><td class="paramname">tflash</td><td>the time of the matched flash [us] </td></tr>
    <tr><td class="paramname">isRealData</td><td>whether the data is real (as opposed to Monte Carlo) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a complete <code><a class="el" href="../../df/de0/structsbn_1_1crt_1_1MatchedCRT.html" title="Information about a CRT hit matched with a PMT flash.">sbn::crt::MatchedCRT</a></code> record </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00691">691</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

<p class="reference">References <a class="el" href="#a0f60799fdd491eeb99530aec8c49bcc5">fGlobalT0Offset</a>, <a class="el" href="#af14ed00e696fd44dc4adaf969f337c9e">fMatchBottomCRT</a>, <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html#ac8a4c00434d59b34d70d3ab28eccbc48">sbn::crt::CRTHit::plane</a>, <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html#ab1b806e14510a12219e3616606b263f9">sbn::crt::CRTHit::x_pos</a>, <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html#a7a9513f1a1f3432c2153ff8ac8612215">sbn::crt::CRTHit::y_pos</a>, and <a class="el" href="../../dc/d5e/structsbn_1_1crt_1_1CRTHit.html#a6b8d8188b65c3ab2b9025c349f920778">sbn::crt::CRTHit::z_pos</a>.</p>

</div>
</div>
<a id="a31413d819df386f4d77907e972ef7923" name="a31413d819df386f4d77907e972ef7923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31413d819df386f4d77907e972ef7923">&#9670;&#160;</a></span>produce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sbn::crt::CRTPMTMatchingProducer::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;</td>          <td class="paramname"><span class="paramname"><em>e</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::ProcessingFrame const &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00423">423</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a73ed6f44110c48e9d8de1da881c9f1bb" name="a73ed6f44110c48e9d8de1da881c9f1bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73ed6f44110c48e9d8de1da881c9f1bb">&#9670;&#160;</a></span>fBNBBeamGateMax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fBNBBeamGateMax</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00369">369</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a06002176a7685aff32262a1ca5d77c71" name="a06002176a7685aff32262a1ca5d77c71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06002176a7685aff32262a1ca5d77c71">&#9670;&#160;</a></span>fBNBBeamGateMin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fBNBBeamGateMin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00368">368</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a59b61250adfa41f86e18eb590d45c7ac" name="a59b61250adfa41f86e18eb590d45c7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b61250adfa41f86e18eb590d45c7ac">&#9670;&#160;</a></span>fBNBinBeamMax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fBNBinBeamMax</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00371">371</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="abf594975bcfe6956a7914ce1ae207452" name="abf594975bcfe6956a7914ce1ae207452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf594975bcfe6956a7914ce1ae207452">&#9670;&#160;</a></span>fBNBinBeamMin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fBNBinBeamMin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00370">370</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a0566ebcafb1c1a6e8a0b780c3b279f2b" name="a0566ebcafb1c1a6e8a0b780c3b279f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0566ebcafb1c1a6e8a0b780c3b279f2b">&#9670;&#160;</a></span>fCrtHitModuleLabel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">art::InputTag const sbn::crt::CRTPMTMatchingProducer::fCrtHitModuleLabel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of CRT producer. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00360">360</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a91bfaf0cef60b4912573b258e6afa6f0" name="a91bfaf0cef60b4912573b258e6afa6f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91bfaf0cef60b4912573b258e6afa6f0">&#9670;&#160;</a></span>fFlashLabels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;art::InputTag&gt; const sbn::crt::CRTPMTMatchingProducer::fFlashLabels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All optical flash input tags. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00359">359</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="ac053122c07b8e60db8c153fb88654327" name="ac053122c07b8e60db8c153fb88654327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac053122c07b8e60db8c153fb88654327">&#9670;&#160;</a></span>fGeometryService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geo::GeometryCore const* const sbn::crt::CRTPMTMatchingProducer::fGeometryService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to Geometry provider. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00377">377</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a0f60799fdd491eeb99530aec8c49bcc5" name="a0f60799fdd491eeb99530aec8c49bcc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f60799fdd491eeb99530aec8c49bcc5">&#9670;&#160;</a></span>fGlobalT0Offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fGlobalT0Offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>1.6 ms delay to shift CRT Hit T0, the CRT Timing variable we use in MC. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00366">366</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a36da56e952f1ff0a4669f53a874187b9">makeMatchedCRT()</a>.</p>

</div>
</div>
<a id="af14ed00e696fd44dc4adaf969f337c9e" name="af14ed00e696fd44dc4adaf969f337c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14ed00e696fd44dc4adaf969f337c9e">&#9670;&#160;</a></span>fMatchBottomCRT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool const sbn::crt::CRTPMTMatchingProducer::fMatchBottomCRT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bool fcl value to perform matching on bottom CRT Hits if true, currently set to false. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00367">367</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a36da56e952f1ff0a4669f53a874187b9">makeMatchedCRT()</a>.</p>

</div>
</div>
<a id="a0bd1e7e44e73b80278f4ca38adf96aea" name="a0bd1e7e44e73b80278f4ca38adf96aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd1e7e44e73b80278f4ca38adf96aea">&#9670;&#160;</a></span>fnOpHitToTrigger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int const sbn::crt::CRTPMTMatchingProducer::fnOpHitToTrigger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of OpHit above threshold to mimic the triggering PMT. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00365">365</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a4c8788bf1fa65de2b0cf3aa593ff82fb" name="a4c8788bf1fa65de2b0cf3aa593ff82fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c8788bf1fa65de2b0cf3aa593ff82fb">&#9670;&#160;</a></span>fNuMIBeamGateMax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fNuMIBeamGateMax</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00373">373</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a899d7d3adbd278f9eee437ee9e3ef300" name="a899d7d3adbd278f9eee437ee9e3ef300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a899d7d3adbd278f9eee437ee9e3ef300">&#9670;&#160;</a></span>fNuMIBeamGateMin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fNuMIBeamGateMin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00372">372</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a3f552c27df122909a2dd6725a2be86dc" name="a3f552c27df122909a2dd6725a2be86dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f552c27df122909a2dd6725a2be86dc">&#9670;&#160;</a></span>fNuMIinBeamMax</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fNuMIinBeamMax</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00375">375</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="afdc3211561bfc1fa8a37eb84b0622116" name="afdc3211561bfc1fa8a37eb84b0622116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc3211561bfc1fa8a37eb84b0622116">&#9670;&#160;</a></span>fNuMIinBeamMin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fNuMIinBeamMin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00374">374</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="aa8f94b7a3567424f18f3e8c1685e69bf" name="aa8f94b7a3567424f18f3e8c1685e69bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f94b7a3567424f18f3e8c1685e69bf">&#9670;&#160;</a></span>fPMTADCThresh</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int const sbn::crt::CRTPMTMatchingProducer::fPMTADCThresh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADC amplitude for a PMT to be considered above threshold. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00364">364</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="ac0ecb3f1fa7b209348ba8921dda65968" name="ac0ecb3f1fa7b209348ba8921dda65968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0ecb3f1fa7b209348ba8921dda65968">&#9670;&#160;</a></span>fTimeOfFlightInterval</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const sbn::crt::CRTPMTMatchingProducer::fTimeOfFlightInterval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CRT-PMT time difference interval to find the match. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00363">363</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<a id="a80e86781035ca53e5516ccaf57426023" name="a80e86781035ca53e5516ccaf57426023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e86781035ca53e5516ccaf57426023">&#9670;&#160;</a></span>fTriggerLabel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">art::InputTag const sbn::crt::CRTPMTMatchingProducer::fTriggerLabel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of trigger producer. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html#l00361">361</a> of file <a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>icaruscode/icaruscode/CRT/<a class="el" href="../../d2/d97/CRTPMTMatchingProducer__module_8cc_source.html">CRTPMTMatchingProducer_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
