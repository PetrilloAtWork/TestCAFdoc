<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAF format: sbn::DuplicateEventTracker Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/TeX/AMSmath','[tex]/TeX/AMSsymbols']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','TeX/AMSmath','TeX/AMSsymbols']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAF format<span id="projectnumber">&#160;${SBNANAOBJ_VERSION}</span>
   </div>
   <div id="projectbrief">Simulation, reconstruction and analysis software for the ICARUS experiment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d7/d03/namespacesbn.html">sbn</a></li><li class="navelem"><a class="el" href="../../de/d02/classsbn_1_1DuplicateEventTracker.html">DuplicateEventTracker</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d7/d02/classsbn_1_1DuplicateEventTracker-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sbn::DuplicateEventTracker Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Keeps track of duplicate events in the job.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config" id="r_d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config">Config</a></td></tr>
<tr class="memdesc:d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service configuration.  <a href="#d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config">More...</a><br /></td></tr>
<tr class="separator:d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aeb8205e81817c49627735c6fef92358d" id="r_aeb8205e81817c49627735c6fef92358d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb8205e81817c49627735c6fef92358d">Parameters</a> = art::ServiceTable&lt;<a class="el" href="#d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config">Config</a>&gt;</td></tr>
<tr class="separator:aeb8205e81817c49627735c6fef92358d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a18c1a7738b91d30727c7fa886a37903d" id="r_a18c1a7738b91d30727c7fa886a37903d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18c1a7738b91d30727c7fa886a37903d">DuplicateEventTracker</a> (Parameters const &amp;config, art::ActivityRegistry &amp;reg)</td></tr>
<tr class="memdesc:a18c1a7738b91d30727c7fa886a37903d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: reads the configuration.  <br /></td></tr>
<tr class="separator:a18c1a7738b91d30727c7fa886a37903d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e4d4ec147755df32db95ddb1b1b8f9" id="r_a09e4d4ec147755df32db95ddb1b1b8f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09e4d4ec147755df32db95ddb1b1b8f9">printSummary</a> () const</td></tr>
<tr class="memdesc:a09e4d4ec147755df32db95ddb1b1b8f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a summary of the current duplicates.  <br /></td></tr>
<tr class="separator:a09e4d4ec147755df32db95ddb1b1b8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Callback functions</div></td></tr>
<tr class="memitem:aa8499c4332f2cfb121261ed020fd208b" id="r_aa8499c4332f2cfb121261ed020fd208b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8499c4332f2cfb121261ed020fd208b">postEventReading</a> (art::Event const &amp;event, art::ScheduleContext)</td></tr>
<tr class="memdesc:aa8499c4332f2cfb121261ed020fd208b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records the event and throws an exception depending on the configuration.  <br /></td></tr>
<tr class="separator:aa8499c4332f2cfb121261ed020fd208b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459d2d9d3a5f64d981e99275aef8a694" id="r_a459d2d9d3a5f64d981e99275aef8a694"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a459d2d9d3a5f64d981e99275aef8a694">postOpenFile</a> (std::string const &amp;fileName)</td></tr>
<tr class="memdesc:a459d2d9d3a5f64d981e99275aef8a694"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records the current file name.  <br /></td></tr>
<tr class="separator:a459d2d9d3a5f64d981e99275aef8a694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039e5ab6f6de6058923f3bf5e7949996" id="r_a039e5ab6f6de6058923f3bf5e7949996"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a039e5ab6f6de6058923f3bf5e7949996">postEndJob</a> ()</td></tr>
<tr class="memdesc:a039e5ab6f6de6058923f3bf5e7949996"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the summary and throws an exception depending on the configuration.  <br /></td></tr>
<tr class="separator:a039e5ab6f6de6058923f3bf5e7949996"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af86e6d90763822052425951d5f28db5d" id="r_af86e6d90763822052425951d5f28db5d"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af86e6d90763822052425951d5f28db5d">fWarningOnly</a></td></tr>
<tr class="memdesc:af86e6d90763822052425951d5f28db5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only warning, no exception.  <br /></td></tr>
<tr class="separator:af86e6d90763822052425951d5f28db5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d65d6248ae651ab5970e1872c16d0e" id="r_a06d65d6248ae651ab5970e1872c16d0e"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06d65d6248ae651ab5970e1872c16d0e">fSkipSummary</a></td></tr>
<tr class="memdesc:a06d65d6248ae651ab5970e1872c16d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not print the summary of duplicate events.  <br /></td></tr>
<tr class="separator:a06d65d6248ae651ab5970e1872c16d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f920d1533c8510785f39232a6a763f7" id="r_a1f920d1533c8510785f39232a6a763f7"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f920d1533c8510785f39232a6a763f7">fExceptionAtEnd</a></td></tr>
<tr class="memdesc:a1f920d1533c8510785f39232a6a763f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throw exception as late as possible.  <br /></td></tr>
<tr class="separator:a1f920d1533c8510785f39232a6a763f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8584904873d9da953184759aef26b57" id="r_af8584904873d9da953184759aef26b57"><td class="memItemLeft" align="right" valign="top">std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8584904873d9da953184759aef26b57">fLogCategory</a></td></tr>
<tr class="memdesc:af8584904873d9da953184759aef26b57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message service category tag.  <br /></td></tr>
<tr class="separator:af8584904873d9da953184759aef26b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac9e84ebed95dd4337c3a91e5c38c9e" id="r_a5ac9e84ebed95dd4337c3a91e5c38c9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">sbn::EventRegistry::FileID_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ac9e84ebed95dd4337c3a91e5c38c9e">fCurrentInputFileID</a> = <a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html#ac9c83543702bc9cf83371cd1e82c50e8">sbn::EventRegistry::NoFileID</a></td></tr>
<tr class="memdesc:a5ac9e84ebed95dd4337c3a91e5c38c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID in the event registry of the current input file.  <br /></td></tr>
<tr class="separator:a5ac9e84ebed95dd4337c3a91e5c38c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930b3c3e455a2eed9c27c3115e12f172" id="r_a930b3c3e455a2eed9c27c3115e12f172"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html">sbn::EventRegistry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a930b3c3e455a2eed9c27c3115e12f172">fEventRegistry</a></td></tr>
<tr class="memdesc:a930b3c3e455a2eed9c27c3115e12f172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record of all events and their source.  <br /></td></tr>
<tr class="separator:a930b3c3e455a2eed9c27c3115e12f172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f623369fa78e0edd451f0a793e0d06" id="r_a96f623369fa78e0edd451f0a793e0d06"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96f623369fa78e0edd451f0a793e0d06">fNDuplicateEvents</a> { 0U }</td></tr>
<tr class="memdesc:a96f623369fa78e0edd451f0a793e0d06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicate event count.  <br /></td></tr>
<tr class="separator:a96f623369fa78e0edd451f0a793e0d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Keeps track of duplicate events in the job. </p>
<p>This <em>art</em> service maintains a record of all the processed events, and it takes action when one is processed more than once. The main purpose of the service is to detect the duplication as soon as possible and in such case to interrupt the job with an error, so that the input can be amended.</p>
<p>The default action is to immediately throw an exception. Alternatively, a warning message can be emitted each time an event is reprocessed, and a summary of all duplication can be emitted at the end of the job.</p>
<p>The service also offers an interface, to receive the current list of events that have been processed so far.</p>
<p>See <code><a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html" title="Keeps a record of all registered events and their source.">sbn::EventRegistry</a></code> for a description of the (large) memory usage of this service.</p>
<h1>Configuration parameters </h1>
<ul>
<li><b>WarningOnly</b> (flag, default: <code>false</code>): this flag has effect on warning messages and on exception throwing:<ul>
<li>warning messages: if this flag is set to <code>true</code>, the service will emit a warning on each duplicate event encountered, otherwise it will not emit any warning (summary will still describe the duplicates if not skipped);</li>
<li>exception in case of duplicate events: if set to <code>false</code>, an exception will be thrown at the first duplicate event, unless <code>ExceptionAtEnd</code> is set, in which case the exception will be thrown at the end; if the flag is set to <code>true</code>, an exception is thrown at the end if <code>ExceptionAtEnd</code> is set, otherwise no exception is thrown at all</li>
</ul>
</li>
<li><b>SkipSummary</b> (flag, default: <code>false</code>): when set to <code>true</code>, it disables the printout of the duplicate events at the end of the job; unless <code>WarningOnly</code> is also set, this summary is going to be one-entry only</li>
<li><b>ExceptionAtEnd</b> (flag, default: <code>false</code>): if duplicate events are detected, an exception is thrown <em>at the end of the job</em> instead of at the first duplicate event; this allows to assess all the duplicate events at once; if set, it is recommended that <code>SkipSummary</code> be disabled; note that with this option enabled, if duplicate events are detected an exception is <em>always</em> thrown (at the end of the job), regardless the setting of <code>WarningOnly</code> end of the job)</li>
<li><b>LogCategory</b> (text, default: <code>"DuplicateEventTracker"</code>): tag of the output category used by this service to the message facility</li>
</ul>
<h1>Multi-threading notes </h1>
<p>This service is designed to work with the concurrent processing of events <em>from the same file</em>. Reading multiple files is not supported (but <em>art</em> 3 doesn't do that anyway). </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00099">99</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config" id="d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config">&#9670;&#160;</a></span>sbn::DuplicateEventTracker::Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sbn::DuplicateEventTracker::Config</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Service configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00104">104</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a0e77a53e6eccb428b6162cc5fa2425f4" name="a0e77a53e6eccb428b6162cc5fa2425f4"></a>typedef Comment</td>
<td class="fieldname">
Comment fhicl::Comment</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8d60a9ec860ae4f151338e785844a639" name="a8d60a9ec860ae4f151338e785844a639"></a>typedef Name</td>
<td class="fieldname">
Name fhicl::Name</td>
<td class="fielddoc">
</td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="abb52fff04c9e908fbc0fdf9741ae63a1" name="abb52fff04c9e908fbc0fdf9741ae63a1"></a>Atom&lt; bool &gt;</td>
<td class="fieldname">
ExceptionAtEnd</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0883254ab7d5e8bd7d4599cb690c8a3b" name="a0883254ab7d5e8bd7d4599cb690c8a3b"></a>Atom&lt; string &gt;</td>
<td class="fieldname">
LogCategory</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a7faf15f3df07cf3f18c264135349a655" name="a7faf15f3df07cf3f18c264135349a655"></a>Atom&lt; bool &gt;</td>
<td class="fieldname">
SkipSummary</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a465cc0f15bfb0198db566158defc0b34" name="a465cc0f15bfb0198db566158defc0b34"></a>Atom&lt; bool &gt;</td>
<td class="fieldname">
WarningOnly</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aeb8205e81817c49627735c6fef92358d" name="aeb8205e81817c49627735c6fef92358d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8205e81817c49627735c6fef92358d">&#9670;&#160;</a></span>Parameters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using sbn::DuplicateEventTracker::Parameters = art::ServiceTable&lt;<a class="el" href="#d5/d03/structsbn_1_1DuplicateEventTracker_1_1Config">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00139">139</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a18c1a7738b91d30727c7fa886a37903d" name="a18c1a7738b91d30727c7fa886a37903d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18c1a7738b91d30727c7fa886a37903d">&#9670;&#160;</a></span>DuplicateEventTracker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sbn::DuplicateEventTracker::DuplicateEventTracker </td>
          <td>(</td>
          <td class="paramtype">Parameters const &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::ActivityRegistry &amp;</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor: reads the configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html#l00026">26</a> of file <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html">DuplicateEventTracker_service.cc</a>.</p>

<p class="reference">References <a class="el" href="#a039e5ab6f6de6058923f3bf5e7949996">postEndJob()</a>, <a class="el" href="#aa8499c4332f2cfb121261ed020fd208b">postEventReading()</a>, and <a class="el" href="#a459d2d9d3a5f64d981e99275aef8a694">postOpenFile()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a039e5ab6f6de6058923f3bf5e7949996" name="a039e5ab6f6de6058923f3bf5e7949996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039e5ab6f6de6058923f3bf5e7949996">&#9670;&#160;</a></span>postEndJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sbn::DuplicateEventTracker::postEndJob </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the summary and throws an exception depending on the configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html#l00140">140</a> of file <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html">DuplicateEventTracker_service.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a18c1a7738b91d30727c7fa886a37903d">DuplicateEventTracker()</a>.</p>

</div>
</div>
<a id="aa8499c4332f2cfb121261ed020fd208b" name="aa8499c4332f2cfb121261ed020fd208b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8499c4332f2cfb121261ed020fd208b">&#9670;&#160;</a></span>postEventReading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sbn::DuplicateEventTracker::postEventReading </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">art::ScheduleContext</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Records the event and throws an exception depending on the configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html#l00100">100</a> of file <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html">DuplicateEventTracker_service.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html#a18441fe448544725c84ca319e4b9ca92">sbn::EventRegistry::EventRecord_t::sourceFiles</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a18c1a7738b91d30727c7fa886a37903d">DuplicateEventTracker()</a>.</p>

</div>
</div>
<a id="a459d2d9d3a5f64d981e99275aef8a694" name="a459d2d9d3a5f64d981e99275aef8a694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a459d2d9d3a5f64d981e99275aef8a694">&#9670;&#160;</a></span>postOpenFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sbn::DuplicateEventTracker::postOpenFile </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>fileName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Records the current file name. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html#l00090">90</a> of file <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html">DuplicateEventTracker_service.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a18c1a7738b91d30727c7fa886a37903d">DuplicateEventTracker()</a>.</p>

</div>
</div>
<a id="a09e4d4ec147755df32db95ddb1b1b8f9" name="a09e4d4ec147755df32db95ddb1b1b8f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09e4d4ec147755df32db95ddb1b1b8f9">&#9670;&#160;</a></span>printSummary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbn::DuplicateEventTracker::printSummary </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a summary of the current duplicates. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html#l00045">45</a> of file <a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html">DuplicateEventTracker_service.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5ac9e84ebed95dd4337c3a91e5c38c9e" name="a5ac9e84ebed95dd4337c3a91e5c38c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac9e84ebed95dd4337c3a91e5c38c9e">&#9670;&#160;</a></span>fCurrentInputFileID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html#a3732c637b699cef3607e41c58f9626ac">sbn::EventRegistry::FileID_t</a> sbn::DuplicateEventTracker::fCurrentInputFileID = <a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html#ac9c83543702bc9cf83371cd1e82c50e8">sbn::EventRegistry::NoFileID</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ID in the event registry of the current input file. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00162">162</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<a id="a930b3c3e455a2eed9c27c3115e12f172" name="a930b3c3e455a2eed9c27c3115e12f172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a930b3c3e455a2eed9c27c3115e12f172">&#9670;&#160;</a></span>fEventRegistry</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d01/classsbn_1_1EventRegistry.html">sbn::EventRegistry</a> sbn::DuplicateEventTracker::fEventRegistry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Record of all events and their source. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00165">165</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<a id="a1f920d1533c8510785f39232a6a763f7" name="a1f920d1533c8510785f39232a6a763f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f920d1533c8510785f39232a6a763f7">&#9670;&#160;</a></span>fExceptionAtEnd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool const sbn::DuplicateEventTracker::fExceptionAtEnd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throw exception as late as possible. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00155">155</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<a id="af8584904873d9da953184759aef26b57" name="af8584904873d9da953184759aef26b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8584904873d9da953184759aef26b57">&#9670;&#160;</a></span>fLogCategory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const sbn::DuplicateEventTracker::fLogCategory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message service category tag. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00157">157</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<a id="a96f623369fa78e0edd451f0a793e0d06" name="a96f623369fa78e0edd451f0a793e0d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f623369fa78e0edd451f0a793e0d06">&#9670;&#160;</a></span>fNDuplicateEvents</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;unsigned int&gt; sbn::DuplicateEventTracker::fNDuplicateEvents { 0U }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Duplicate event count. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00167">167</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<a id="a06d65d6248ae651ab5970e1872c16d0e" name="a06d65d6248ae651ab5970e1872c16d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d65d6248ae651ab5970e1872c16d0e">&#9670;&#160;</a></span>fSkipSummary</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool const sbn::DuplicateEventTracker::fSkipSummary</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do not print the summary of duplicate events. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00154">154</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<a id="af86e6d90763822052425951d5f28db5d" name="af86e6d90763822052425951d5f28db5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af86e6d90763822052425951d5f28db5d">&#9670;&#160;</a></span>fWarningOnly</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool const sbn::DuplicateEventTracker::fWarningOnly</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only warning, no exception. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html#l00153">153</a> of file <a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>icaruscode/icaruscode/Utilities/<a class="el" href="../../d2/d01/DuplicateEventTracker_8h_source.html">DuplicateEventTracker.h</a></li>
<li>icaruscode/icaruscode/Utilities/<a class="el" href="../../db/d01/DuplicateEventTracker__service_8cc_source.html">DuplicateEventTracker_service.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
