<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAF format: icarus::PMTWaveformBaselines Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/TeX/AMSmath','[tex]/TeX/AMSsymbols']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','TeX/AMSmath','TeX/AMSsymbols']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAF format<span id="projectnumber">&#160;${SBNANAOBJ_VERSION}</span>
   </div>
   <div id="projectbrief">Simulation, reconstruction and analysis software for the ICARUS experiment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../da/d01/namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="../../de/d01/classicarus_1_1PMTWaveformBaselines.html">PMTWaveformBaselines</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../de/d01/classicarus_1_1PMTWaveformBaselines-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">icarus::PMTWaveformBaselines Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Extracts the baseline of PMT waveforms.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for icarus::PMTWaveformBaselines:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../de/d01/classicarus_1_1PMTWaveformBaselines.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config" id="r_df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config">Config</a></td></tr>
<tr class="separator:df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa836d75741673e0b804d2743e2b27208" id="r_aa836d75741673e0b804d2743e2b27208"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa836d75741673e0b804d2743e2b27208">Parameters</a> = art::EDProducer::Table&lt;<a class="el" href="#df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config">Config</a>&gt;</td></tr>
<tr class="separator:aa836d75741673e0b804d2743e2b27208"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a77d45bd691f81569206e21b18f9928f4" id="r_a77d45bd691f81569206e21b18f9928f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77d45bd691f81569206e21b18f9928f4">PMTWaveformBaselines</a> (Parameters const &amp;config)</td></tr>
<tr class="separator:a77d45bd691f81569206e21b18f9928f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff326c60d9eaae604010643cd089e89" id="r_a4ff326c60d9eaae604010643cd089e89"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ff326c60d9eaae604010643cd089e89">beginJob</a> () override</td></tr>
<tr class="memdesc:a4ff326c60d9eaae604010643cd089e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the plots to be filled.  <br /></td></tr>
<tr class="separator:a4ff326c60d9eaae604010643cd089e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab325a7d4401ac7e8fac287f30c3f7ac5" id="r_ab325a7d4401ac7e8fac287f30c3f7ac5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab325a7d4401ac7e8fac287f30c3f7ac5">produce</a> (art::Event &amp;event) override</td></tr>
<tr class="memdesc:ab325a7d4401ac7e8fac287f30c3f7ac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the data products.  <br /></td></tr>
<tr class="separator:ab325a7d4401ac7e8fac287f30c3f7ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc63e7349a41503ec4c41bd3d0138e05" id="r_adc63e7349a41503ec4c41bd3d0138e05"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc63e7349a41503ec4c41bd3d0138e05">endJob</a> () override</td></tr>
<tr class="memdesc:adc63e7349a41503ec4c41bd3d0138e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove empty plots.  <br /></td></tr>
<tr class="separator:adc63e7349a41503ec4c41bd3d0138e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acb4dcb09946c60220ed4277db751b2d3" id="r_acb4dcb09946c60220ed4277db751b2d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb4dcb09946c60220ed4277db751b2d3">setupPlots</a> ()</td></tr>
<tr class="memdesc:acb4dcb09946c60220ed4277db751b2d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates all the plots to be filled by the module.  <br /></td></tr>
<tr class="separator:acb4dcb09946c60220ed4277db751b2d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01862f5acfae5b7efe5ce070bd5c376c" id="r_a01862f5acfae5b7efe5ce070bd5c376c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01862f5acfae5b7efe5ce070bd5c376c">buildBaselineGraphs</a> ()</td></tr>
<tr class="memdesc:a01862f5acfae5b7efe5ce070bd5c376c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the empty plots.  <br /></td></tr>
<tr class="separator:a01862f5acfae5b7efe5ce070bd5c376c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d0529457d40af4292681ad2c3f7191" id="r_a98d0529457d40af4292681ad2c3f7191"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d02/structicarus_1_1WaveformBaseline.html">icarus::WaveformBaseline</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98d0529457d40af4292681ad2c3f7191">baselineFromMedian</a> (raw::OpDetWaveform const &amp;waveform) const</td></tr>
<tr class="memdesc:a98d0529457d40af4292681ad2c3f7191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts a baseline as median from a single waveform.  <br /></td></tr>
<tr class="separator:a98d0529457d40af4292681ad2c3f7191"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af7498553c23fea06de407d0ab0f5b099" id="r_af7498553c23fea06de407d0ab0f5b099"><td class="memItemLeft" align="right" valign="top">art::InputTag const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7498553c23fea06de407d0ab0f5b099">fOpDetWaveformTag</a></td></tr>
<tr class="memdesc:af7498553c23fea06de407d0ab0f5b099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input optical waveform tag.  <br /></td></tr>
<tr class="separator:af7498553c23fea06de407d0ab0f5b099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e270387af3289d106498b5a8924396" id="r_a07e270387af3289d106498b5a8924396"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07e270387af3289d106498b5a8924396">fPlotBaselines</a></td></tr>
<tr class="memdesc:a07e270387af3289d106498b5a8924396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to produce plots.  <br /></td></tr>
<tr class="separator:a07e270387af3289d106498b5a8924396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5268c62616379146b235b2168b66244f" id="r_a5268c62616379146b235b2168b66244f"><td class="memItemLeft" align="right" valign="top">double const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5268c62616379146b235b2168b66244f">fBaselineTimeAverage</a> { 0.0 }</td></tr>
<tr class="memdesc:a5268c62616379146b235b2168b66244f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Width of baseline time profile binning [s].  <br /></td></tr>
<tr class="separator:a5268c62616379146b235b2168b66244f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675815bc82e88269d04638fcd6e79048" id="r_a675815bc82e88269d04638fcd6e79048"><td class="memItemLeft" align="right" valign="top">std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a675815bc82e88269d04638fcd6e79048">fLogCategory</a></td></tr>
<tr class="memdesc:a675815bc82e88269d04638fcd6e79048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Category name for the console output stream.  <br /></td></tr>
<tr class="separator:a675815bc82e88269d04638fcd6e79048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970a880b0f051f9d4f87788f410cd51e" id="r_a970a880b0f051f9d4f87788f410cd51e"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a970a880b0f051f9d4f87788f410cd51e">fNPlotChannels</a> = 0U</td></tr>
<tr class="memdesc:a970a880b0f051f9d4f87788f410cd51e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of plotted channels.  <br /></td></tr>
<tr class="separator:a970a880b0f051f9d4f87788f410cd51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f8ebd9650af3947d154a20ec3424d3c" id="r_a9f8ebd9650af3947d154a20ec3424d3c"><td class="memItemLeft" align="right" valign="top">TH2 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f8ebd9650af3947d154a20ec3424d3c">fHBaselines</a> = nullptr</td></tr>
<tr class="memdesc:a9f8ebd9650af3947d154a20ec3424d3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">All baselines, per channel.  <br /></td></tr>
<tr class="separator:a9f8ebd9650af3947d154a20ec3424d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1282b62a0848f5174f8f06868f5bf5db" id="r_a1282b62a0848f5174f8f06868f5bf5db"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::pair&lt; double, double &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1282b62a0848f5174f8f06868f5bf5db">fBaselinesVsTime</a></td></tr>
<tr class="memdesc:a1282b62a0848f5174f8f06868f5bf5db"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each channel, all event times and their baselines.  <br /></td></tr>
<tr class="separator:a1282b62a0848f5174f8f06868f5bf5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Extracts the baseline of PMT waveforms. </p>
<p>This module produces a baseline data product for each optical detector waveform.</p>
<p>The waveforms on the same channels are currently treated as independent (which is less than ideal).</p>
<h1>Output data products </h1>
<ul>
<li>a data product of type <code>std::vector&lt;<a class="el" href="../../de/d02/structicarus_1_1WaveformBaseline.html" title="Class containing a waveform baseline value.">icarus::WaveformBaseline</a>&gt;</code>, with one baseline per input waveform; the baselines are guaranteed to be in the same order as the waveforms in the input collection;</li>
<li>an <em>art</em> association, one baseline per input optical waveform; normally this is not needed as long as the original PMT waveform data product is available; the type of the association is <code>art::Assns&lt;<a class="el" href="../../de/d02/structicarus_1_1WaveformBaseline.html" title="Class containing a waveform baseline value.">icarus::WaveformBaseline</a>, raw::OpDetWaveform&gt;</code>.</li>
</ul>
<h2>Output plots </h2>
<ul>
<li><code>Baselines</code>: baseline distribution, per channel; average baseline [ADC] per event per channel; all waveforms on the same channels in a single event contribute to the average, and channels with no waveforms in an event do not contribute an entry for that event.</li>
</ul>
<h1>Input data products </h1>
<ul>
<li><code>std::vector&lt;raw::OpDetWaveform&gt;</code>: a single waveform for each recorded optical detector activity; the activity belongs to a single channel, but there may be multiple waveforms on the same channel.</li>
</ul>
<h2>Service requirements </h2>
<ul>
<li><code>TFileService</code> and <code>Geometry</code> if <code>PlotBaselines</code> is enabled</li>
</ul>
<h1>Configuration parameters </h1>
<p>A terse description of the parameters is printed by running <code>lar --print-description <a class="el" href="../../de/d01/classicarus_1_1PMTWaveformBaselines.html" title="Extracts the baseline of PMT waveforms.">PMTWaveformBaselines</a></code>.</p>
<ul>
<li><code>OpticalWaveforms</code> (input tag, mandatory): the data product containing all optical detector waveforms;</li>
<li><code>OutputCategory</code> (string, default: <code>"PMTWaveformBaselines"</code>): label for the category of messages in the console output; this is the label that can be used for filtering messages via MessageFacility service configuration;</li>
<li><code>PlotBaselines</code> (flag, default: <code>true</code>): whether to produce distributions of the extracted baselines.</li>
<li><code>BaselineTimeAverage</code> (real number, default: <code>600.0</code>): binning of the baseline profile vs. time, in seconds. Requires <code>PlotBaselines</code> to be set. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00116">116</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config" id="df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config"></a>
<h2 class="memtitle"><span class="permalink"><a href="#df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config">&#9670;&#160;</a></span>icarus::PMTWaveformBaselines::Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct icarus::PMTWaveformBaselines::Config</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00121">121</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="acde26ab94cbceabf8a7396d741d3c92d" name="acde26ab94cbceabf8a7396d741d3c92d"></a>typedef Comment</td>
<td class="fieldname">
Comment fhicl::Comment</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac7c93280518e67d299ceb42ad1bb612f" name="ac7c93280518e67d299ceb42ad1bb612f"></a>typedef Name</td>
<td class="fieldname">
Name fhicl::Name</td>
<td class="fielddoc">
</td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a9ec8556a8fc74dcbc5a0e19a0c2a8652" name="a9ec8556a8fc74dcbc5a0e19a0c2a8652"></a>Atom&lt; double &gt;</td>
<td class="fieldname">
BaselineTimeAverage</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a25aa4fd1e5e15f5787ea7c1afd1029ce" name="a25aa4fd1e5e15f5787ea7c1afd1029ce"></a>Atom&lt; InputTag &gt;</td>
<td class="fieldname">
OpticalWaveforms</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af20aaa2c7b913f0a713a00f2f4f9f9d7" name="af20aaa2c7b913f0a713a00f2f4f9f9d7"></a>Atom&lt; string &gt;</td>
<td class="fieldname">
OutputCategory</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af1a5686a1d073126669e5104f226e533" name="af1a5686a1d073126669e5104f226e533"></a>Atom&lt; bool &gt;</td>
<td class="fieldname">
PlotBaselines</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aa836d75741673e0b804d2743e2b27208" name="aa836d75741673e0b804d2743e2b27208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa836d75741673e0b804d2743e2b27208">&#9670;&#160;</a></span>Parameters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using icarus::PMTWaveformBaselines::Parameters = art::EDProducer::Table&lt;<a class="el" href="#df/d01/structicarus_1_1PMTWaveformBaselines_1_1Config">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00152">152</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a77d45bd691f81569206e21b18f9928f4" name="a77d45bd691f81569206e21b18f9928f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d45bd691f81569206e21b18f9928f4">&#9670;&#160;</a></span>PMTWaveformBaselines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::PMTWaveformBaselines::PMTWaveformBaselines </td>
          <td>(</td>
          <td class="paramtype">Parameters const &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00249">249</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a98d0529457d40af4292681ad2c3f7191" name="a98d0529457d40af4292681ad2c3f7191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d0529457d40af4292681ad2c3f7191">&#9670;&#160;</a></span>baselineFromMedian()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d02/structicarus_1_1WaveformBaseline.html">icarus::WaveformBaseline</a> icarus::PMTWaveformBaselines::baselineFromMedian </td>
          <td>(</td>
          <td class="paramtype">raw::OpDetWaveform const &amp;</td>          <td class="paramname"><span class="paramname"><em>waveform</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts a baseline as median from a single waveform. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00477">477</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="a4ff326c60d9eaae604010643cd089e89" name="a4ff326c60d9eaae604010643cd089e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff326c60d9eaae604010643cd089e89">&#9670;&#160;</a></span>beginJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::PMTWaveformBaselines::beginJob </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares the plots to be filled. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00284">284</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

<p class="reference">References <a class="el" href="#a07e270387af3289d106498b5a8924396">fPlotBaselines</a>, and <a class="el" href="#acb4dcb09946c60220ed4277db751b2d3">setupPlots()</a>.</p>

</div>
</div>
<a id="a01862f5acfae5b7efe5ce070bd5c376c" name="a01862f5acfae5b7efe5ce070bd5c376c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01862f5acfae5b7efe5ce070bd5c376c">&#9670;&#160;</a></span>buildBaselineGraphs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::PMTWaveformBaselines::buildBaselineGraphs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the empty plots. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00414">414</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="adc63e7349a41503ec4c41bd3d0138e05" name="adc63e7349a41503ec4c41bd3d0138e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc63e7349a41503ec4c41bd3d0138e05">&#9670;&#160;</a></span>endJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::PMTWaveformBaselines::endJob </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove empty plots. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00382">382</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="ab325a7d4401ac7e8fac287f30c3f7ac5" name="ab325a7d4401ac7e8fac287f30c3f7ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab325a7d4401ac7e8fac287f30c3f7ac5">&#9670;&#160;</a></span>produce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::PMTWaveformBaselines::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the data products. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00295">295</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

<p class="reference">References <a class="el" href="../../de/d02/structicarus_1_1WaveformBaseline.html#ab50baebfebbd0386ccbc298c57b64a90">icarus::WaveformBaseline::baseline()</a>.</p>

</div>
</div>
<a id="acb4dcb09946c60220ed4277db751b2d3" name="acb4dcb09946c60220ed4277db751b2d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb4dcb09946c60220ed4277db751b2d3">&#9670;&#160;</a></span>setupPlots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::PMTWaveformBaselines::setupPlots </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates all the plots to be filled by the module. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00390">390</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a4ff326c60d9eaae604010643cd089e89">beginJob()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1282b62a0848f5174f8f06868f5bf5db" name="a1282b62a0848f5174f8f06868f5bf5db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1282b62a0848f5174f8f06868f5bf5db">&#9670;&#160;</a></span>fBaselinesVsTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;std::pair&lt;double, double&gt; &gt; &gt; icarus::PMTWaveformBaselines::fBaselinesVsTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For each channel, all event times and their baselines. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00205">205</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="a5268c62616379146b235b2168b66244f" name="a5268c62616379146b235b2168b66244f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5268c62616379146b235b2168b66244f">&#9670;&#160;</a></span>fBaselineTimeAverage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double const icarus::PMTWaveformBaselines::fBaselineTimeAverage { 0.0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Width of baseline time profile binning [s]. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00185">185</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="a9f8ebd9650af3947d154a20ec3424d3c" name="a9f8ebd9650af3947d154a20ec3424d3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f8ebd9650af3947d154a20ec3424d3c">&#9670;&#160;</a></span>fHBaselines</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TH2* icarus::PMTWaveformBaselines::fHBaselines = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All baselines, per channel. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00202">202</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="a675815bc82e88269d04638fcd6e79048" name="a675815bc82e88269d04638fcd6e79048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a675815bc82e88269d04638fcd6e79048">&#9670;&#160;</a></span>fLogCategory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const icarus::PMTWaveformBaselines::fLogCategory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Category name for the console output stream. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00187">187</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="a970a880b0f051f9d4f87788f410cd51e" name="a970a880b0f051f9d4f87788f410cd51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a970a880b0f051f9d4f87788f410cd51e">&#9670;&#160;</a></span>fNPlotChannels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t icarus::PMTWaveformBaselines::fNPlotChannels = 0U</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of plotted channels. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00201">201</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="af7498553c23fea06de407d0ab0f5b099" name="af7498553c23fea06de407d0ab0f5b099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7498553c23fea06de407d0ab0f5b099">&#9670;&#160;</a></span>fOpDetWaveformTag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">art::InputTag const icarus::PMTWaveformBaselines::fOpDetWaveformTag</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Input optical waveform tag. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00180">180</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

</div>
</div>
<a id="a07e270387af3289d106498b5a8924396" name="a07e270387af3289d106498b5a8924396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e270387af3289d106498b5a8924396">&#9670;&#160;</a></span>fPlotBaselines</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool icarus::PMTWaveformBaselines::fPlotBaselines</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to produce plots. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html#l00182">182</a> of file <a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a4ff326c60d9eaae604010643cd089e89">beginJob()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>icaruscode/icaruscode/PMT/<a class="el" href="../../d6/d03/PMTWaveformBaselines__module_8cc_source.html">PMTWaveformBaselines_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
