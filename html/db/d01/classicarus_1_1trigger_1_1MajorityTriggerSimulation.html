<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAF format: icarus::trigger::MajorityTriggerSimulation Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/TeX/AMSmath','[tex]/TeX/AMSsymbols']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','TeX/AMSmath','TeX/AMSsymbols']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAF format<span id="projectnumber">&#160;${SBNANAOBJ_VERSION}</span>
   </div>
   <div id="projectbrief">Simulation, reconstruction and analysis software for the ICARUS experiment.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../da/d01/namespaceicarus.html">icarus</a></li><li class="navelem"><a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html">trigger</a></li><li class="navelem"><a class="el" href="../../db/d01/classicarus_1_1trigger_1_1MajorityTriggerSimulation.html">MajorityTriggerSimulation</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dc/d01/classicarus_1_1trigger_1_1MajorityTriggerSimulation-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">icarus::trigger::MajorityTriggerSimulation Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Simulates a "majority" trigger.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for icarus::trigger::MajorityTriggerSimulation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../db/d01/classicarus_1_1trigger_1_1MajorityTriggerSimulation.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config" id="r_d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config">Config</a></td></tr>
<tr class="separator:d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5913bc446077543a73c21218abc62c70" id="r_a5913bc446077543a73c21218abc62c70"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5913bc446077543a73c21218abc62c70">microseconds</a> = util::quantities::intervals::microseconds</td></tr>
<tr class="separator:a5913bc446077543a73c21218abc62c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0805878bb4a5ea06513a9a52e516c70a" id="r_a0805878bb4a5ea06513a9a52e516c70a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0805878bb4a5ea06513a9a52e516c70a">nanoseconds</a> = util::quantities::intervals::nanoseconds</td></tr>
<tr class="separator:a0805878bb4a5ea06513a9a52e516c70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0b67a30f178627cd4d028aea0afb4a" id="r_aeb0b67a30f178627cd4d028aea0afb4a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb0b67a30f178627cd4d028aea0afb4a">Parameters</a> = art::EDProducer::Table&lt;<a class="el" href="#d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config">Config</a>&gt;</td></tr>
<tr class="separator:aeb0b67a30f178627cd4d028aea0afb4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a743fb3694fe8fb8ead3a5294601625c4" id="r_a743fb3694fe8fb8ead3a5294601625c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a743fb3694fe8fb8ead3a5294601625c4">MajorityTriggerSimulation</a> (Parameters const &amp;config)</td></tr>
<tr class="separator:a743fb3694fe8fb8ead3a5294601625c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a2f55f6d3b96ca30d0a23bab59466f" id="r_a59a2f55f6d3b96ca30d0a23bab59466f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59a2f55f6d3b96ca30d0a23bab59466f">beginJob</a> () override</td></tr>
<tr class="memdesc:a59a2f55f6d3b96ca30d0a23bab59466f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the plots.  <br /></td></tr>
<tr class="separator:a59a2f55f6d3b96ca30d0a23bab59466f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c9d67b4e6171b3f9f57e49bcde5067" id="r_a77c9d67b4e6171b3f9f57e49bcde5067"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77c9d67b4e6171b3f9f57e49bcde5067">produce</a> (art::Event &amp;event) override</td></tr>
<tr class="memdesc:a77c9d67b4e6171b3f9f57e49bcde5067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the simulation and saves the results into the <em>art</em> event.  <br /></td></tr>
<tr class="separator:a77c9d67b4e6171b3f9f57e49bcde5067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417a0af68bb205bbe52080e9a21be80d" id="r_a417a0af68bb205bbe52080e9a21be80d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a417a0af68bb205bbe52080e9a21be80d">endJob</a> () override</td></tr>
<tr class="memdesc:a417a0af68bb205bbe52080e9a21be80d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints end-of-job summaries.  <br /></td></tr>
<tr class="separator:a417a0af68bb205bbe52080e9a21be80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a11d4cc520446a5b2c80e0aa8ac58e710" id="r_a11d4cc520446a5b2c80e0aa8ac58e710"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> = <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html">details::TriggerInfo_t</a></td></tr>
<tr class="memdesc:a11d4cc520446a5b2c80e0aa8ac58e710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type alias.  <br /></td></tr>
<tr class="separator:a11d4cc520446a5b2c80e0aa8ac58e710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3098b6bf3e929176c3fb9ffcd54c1f24" id="r_a3098b6bf3e929176c3fb9ffcd54c1f24"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3098b6bf3e929176c3fb9ffcd54c1f24">InputTriggerGate_t</a> = <a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#a3d74537ebeb98f2f58fa8830967c62e7">icarus::trigger::TrackedOpticalTriggerGate</a>&lt;<a class="el" href="../../da/d01/structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a>&gt;</td></tr>
<tr class="memdesc:a3098b6bf3e929176c3fb9ffcd54c1f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of trigger gate extracted from the input event.  <br /></td></tr>
<tr class="separator:a3098b6bf3e929176c3fb9ffcd54c1f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3722247ce6c8add9897943a83d078bca" id="r_a3722247ce6c8add9897943a83d078bca"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> = std::vector&lt;<a class="el" href="#a3098b6bf3e929176c3fb9ffcd54c1f24">InputTriggerGate_t</a>&gt;</td></tr>
<tr class="memdesc:a3722247ce6c8add9897943a83d078bca"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of trigger gates from input.  <br /></td></tr>
<tr class="separator:a3722247ce6c8add9897943a83d078bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af881e7723e9bbd1b5eef8c732b8dda84" id="r_af881e7723e9bbd1b5eef8c732b8dda84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af881e7723e9bbd1b5eef8c732b8dda84">initializePlots</a> ()</td></tr>
<tr class="memdesc:af881e7723e9bbd1b5eef8c732b8dda84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the full set of plots (all ADC thresholds).  <br /></td></tr>
<tr class="separator:af881e7723e9bbd1b5eef8c732b8dda84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6153a9cad897564005e09257573ff713" id="r_a6153a9cad897564005e09257573ff713"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6153a9cad897564005e09257573ff713">produceForThreshold</a> (art::Event &amp;event, detinfo::DetectorTimings const &amp;detTimings, <a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;beamGate, std::size_t const iThr, <a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#abd32d312e13787a2f2c23e6ffdbe7b8b">icarus::trigger::ADCCounts_t</a> const thr)</td></tr>
<tr class="memdesc:a6153a9cad897564005e09257573ff713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the simulation for the specified ADC threshold.  <br /></td></tr>
<tr class="separator:a6153a9cad897564005e09257573ff713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c561ba35ea22d2f75780a314296cc7e" id="r_a2c561ba35ea22d2f75780a314296cc7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c561ba35ea22d2f75780a314296cc7e">simulate</a> (<a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;clockData, <a class="el" href="#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;gates) const</td></tr>
<tr class="memdesc:a2c561ba35ea22d2f75780a314296cc7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the simulation of the configured trigger on <code>gates</code> input.  <br /></td></tr>
<tr class="separator:a2c561ba35ea22d2f75780a314296cc7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb4a9f896755369f75afe611c4cc746e" id="r_aeb4a9f896755369f75afe611c4cc746e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb4a9f896755369f75afe611c4cc746e">simulateCryostat</a> (<a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;beamGate, std::size_t iCryo, <a class="el" href="#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;gates) const</td></tr>
<tr class="memdesc:aeb4a9f896755369f75afe611c4cc746e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulates the trigger response within a single cryostat.  <br /></td></tr>
<tr class="separator:aeb4a9f896755369f75afe611c4cc746e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842fd7d11053c5a1572d29b05e4fa522" id="r_a842fd7d11053c5a1572d29b05e4fa522"><td class="memItemLeft" align="right" valign="top">raw::Trigger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a842fd7d11053c5a1572d29b05e4fa522">triggerInfoToTriggerData</a> (detinfo::DetectorTimings const &amp;detTimings, unsigned int triggerNumber, <a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;info) const</td></tr>
<tr class="memdesc:a842fd7d11053c5a1572d29b05e4fa522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the trigger information into a <code>raw::Trigger</code> object.  <br /></td></tr>
<tr class="separator:a842fd7d11053c5a1572d29b05e4fa522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a94451444253278269ae682cc1674f" id="r_aa7a94451444253278269ae682cc1674f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7a94451444253278269ae682cc1674f">plotTriggerResponse</a> (std::size_t iThr, <a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;triggerInfo) const</td></tr>
<tr class="memdesc:aa7a94451444253278269ae682cc1674f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the plots for threshold index <code>iThr</code> with trigger information.  <br /></td></tr>
<tr class="separator:aa7a94451444253278269ae682cc1674f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631f4630b43468451ab0f6c09286228f" id="r_a631f4630b43468451ab0f6c09286228f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a631f4630b43468451ab0f6c09286228f">printSummary</a> () const</td></tr>
<tr class="memdesc:a631f4630b43468451ab0f6c09286228f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the summary of fired triggers on screen.  <br /></td></tr>
<tr class="separator:a631f4630b43468451ab0f6c09286228f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e815e28a0827d3d796f94edda65959c" id="r_a4e815e28a0827d3d796f94edda65959c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e815e28a0827d3d796f94edda65959c">makeMyBeamGate</a> (art::Event const *event=nullptr) const</td></tr>
<tr class="memdesc:a4e815e28a0827d3d796f94edda65959c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shortcut to create an <code>ApplyBeamGate</code> with the current configuration.  <br /></td></tr>
<tr class="separator:a4e815e28a0827d3d796f94edda65959c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1907744b1f07e0c25cd7dd155f54ed4a" id="r_a1907744b1f07e0c25cd7dd155f54ed4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1907744b1f07e0c25cd7dd155f54ed4a">makeMyBeamGate</a> (art::Event const &amp;event) const</td></tr>
<tr class="separator:a1907744b1f07e0c25cd7dd155f54ed4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a669a264de8d33b790d0d32ef8973cdf3" id="r_a669a264de8d33b790d0d32ef8973cdf3"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#abd32d312e13787a2f2c23e6ffdbe7b8b">icarus::trigger::ADCCounts_t</a>, art::InputTag &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a669a264de8d33b790d0d32ef8973cdf3">fADCthresholds</a></td></tr>
<tr class="memdesc:a669a264de8d33b790d0d32ef8973cdf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC thresholds to read, and the input tag connected to their data.  <br /></td></tr>
<tr class="separator:a669a264de8d33b790d0d32ef8973cdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2ed4edbe26a93b5b726665a964f270" id="r_a7b2ed4edbe26a93b5b726665a964f270"><td class="memItemLeft" align="right" valign="top">unsigned int const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b2ed4edbe26a93b5b726665a964f270">fMinimumPrimitives</a></td></tr>
<tr class="memdesc:a7b2ed4edbe26a93b5b726665a964f270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum number of trigger primitives for a trigger to happen.  <br /></td></tr>
<tr class="separator:a7b2ed4edbe26a93b5b726665a964f270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa374708731e46077434e46aacc8f98e1" id="r_aa374708731e46077434e46aacc8f98e1"><td class="memItemLeft" align="right" valign="top">microseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa374708731e46077434e46aacc8f98e1">fBeamGateDuration</a></td></tr>
<tr class="memdesc:aa374708731e46077434e46aacc8f98e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duration of the gate during with global optical triggers are accepted.  <br /></td></tr>
<tr class="separator:aa374708731e46077434e46aacc8f98e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bcd2f6292da5b5bdc8839ad0229b36d" id="r_a5bcd2f6292da5b5bdc8839ad0229b36d"><td class="memItemLeft" align="right" valign="top">nanoseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5bcd2f6292da5b5bdc8839ad0229b36d">fTriggerTimeResolution</a></td></tr>
<tr class="memdesc:a5bcd2f6292da5b5bdc8839ad0229b36d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger resolution in time.  <br /></td></tr>
<tr class="separator:a5bcd2f6292da5b5bdc8839ad0229b36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4bb5d03329fd0fca1c05c2a9f105e9" id="r_aec4bb5d03329fd0fca1c05c2a9f105e9"><td class="memItemLeft" align="right" valign="top">std::uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec4bb5d03329fd0fca1c05c2a9f105e9">fBeamBits</a></td></tr>
<tr class="memdesc:aec4bb5d03329fd0fca1c05c2a9f105e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bits for the beam gate being simulated.  <br /></td></tr>
<tr class="separator:aec4bb5d03329fd0fca1c05c2a9f105e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f35bb6cf61d371521debe5964cc5691" id="r_a3f35bb6cf61d371521debe5964cc5691"><td class="memItemLeft" align="right" valign="top">std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f35bb6cf61d371521debe5964cc5691">fLogCategory</a></td></tr>
<tr class="memdesc:a3f35bb6cf61d371521debe5964cc5691"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message facility stream category for output.  <br /></td></tr>
<tr class="separator:a3f35bb6cf61d371521debe5964cc5691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19dabddeb6b86a81cc0f431755aefbcf" id="r_a19dabddeb6b86a81cc0f431755aefbcf"><td class="memItemLeft" align="right" valign="top">geo::GeometryCore const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19dabddeb6b86a81cc0f431755aefbcf">fGeom</a></td></tr>
<tr class="separator:a19dabddeb6b86a81cc0f431755aefbcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56659f7447bd97c5613ce87a6996adb" id="r_ae56659f7447bd97c5613ce87a6996adb"><td class="memItemLeft" align="right" valign="top">art::TFileDirectory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae56659f7447bd97c5613ce87a6996adb">fOutputDir</a></td></tr>
<tr class="memdesc:ae56659f7447bd97c5613ce87a6996adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">ROOT directory where all the plots are written.  <br /></td></tr>
<tr class="separator:ae56659f7447bd97c5613ce87a6996adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d80618091473a0a252e60d95ed089e" id="r_a77d80618091473a0a252e60d95ed089e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d03/classicarus_1_1trigger_1_1MajorityTriggerCombiner.html">MajorityTriggerCombiner</a> const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77d80618091473a0a252e60d95ed089e">fCombiner</a></td></tr>
<tr class="memdesc:a77d80618091473a0a252e60d95ed089e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm to combine primitives.  <br /></td></tr>
<tr class="separator:a77d80618091473a0a252e60d95ed089e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2371fcb98a5b99642be22b38f10a653" id="r_af2371fcb98a5b99642be22b38f10a653"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d00/classicarus_1_1trigger_1_1GeometryChannelSplitter.html">GeometryChannelSplitter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2371fcb98a5b99642be22b38f10a653">fChannelSplitter</a></td></tr>
<tr class="memdesc:af2371fcb98a5b99642be22b38f10a653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm to sort trigger gates by cryostat or TPC.  <br /></td></tr>
<tr class="separator:af2371fcb98a5b99642be22b38f10a653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc2c3ba068e74abaa55c69866921fcf" id="r_a7cc2c3ba068e74abaa55c69866921fcf"><td class="memItemLeft" align="right" valign="top">icarus::ns::util::PlotSandbox&lt; art::TFileDirectory &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cc2c3ba068e74abaa55c69866921fcf">fPlots</a></td></tr>
<tr class="memdesc:a7cc2c3ba068e74abaa55c69866921fcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">All plots in one practical sandbox.  <br /></td></tr>
<tr class="separator:a7cc2c3ba068e74abaa55c69866921fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f78981d2920fc967428a83bc42013bd" id="r_a2f78981d2920fc967428a83bc42013bd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::atomic&lt; unsigned int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f78981d2920fc967428a83bc42013bd">fTriggerCount</a></td></tr>
<tr class="separator:a2f78981d2920fc967428a83bc42013bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8722f10ea4611e41c6c0f0bb985fdb42" id="r_a8722f10ea4611e41c6c0f0bb985fdb42"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8722f10ea4611e41c6c0f0bb985fdb42">fTotalEvents</a> { 0U }</td></tr>
<tr class="memdesc:a8722f10ea4611e41c6c0f0bb985fdb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count of fired triggers.  <br /></td></tr>
<tr class="separator:a8722f10ea4611e41c6c0f0bb985fdb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e924eaf83efb6cc12f58a8439a65bd7" id="r_a8e924eaf83efb6cc12f58a8439a65bd7"><td class="memItemLeft" align="right" valign="top">icarus::ns::util::ThreadSafeChangeMonitor&lt; <a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e924eaf83efb6cc12f58a8439a65bd7">fGateChangeCheck</a></td></tr>
<tr class="memdesc:a8e924eaf83efb6cc12f58a8439a65bd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functor returning whether a gate has changed.  <br /></td></tr>
<tr class="separator:a8e924eaf83efb6cc12f58a8439a65bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simulates a "majority" trigger. </p>
<p>A trigger primitive is a two-level function of time which describes when that primitive is on and when it is off. Trigger primitives are given as input to this module and their origin may vary, but the standard source in ICARUS is <a class="el" href="../../d8/d03/ICARUSPMTTrigger.html#ICARUSPMTTriggerGlossary">single trigger request</a>.</p>
<p>This module simulates a trigger requesting a minimum number of single trigger requests in the event, and saves the result as <code>raw::Trigger</code> data products. While only one trigger definition is used, inputs with different thresholds may be specified to have the different responses.</p>
<h1>Configuration </h1>
<ul>
<li><code>TriggerGatesTag</code> (string, mandatory): name of the module instance which produced the trigger primitives to be used as input; it must not include any instance name, as the instance names will be automatically added from <code>Thresholds</code> parameter. The typical trigger primitives used as input may be LVDS discriminated output (e.g. from <code><a class="el" href="../../dd/d03/classicarus_1_1trigger_1_1LVDSgates.html" title="Combines discriminated PMT outputs into V1730 LVDS gates.">icarus::trigger::LVDSgates</a></code> module) or combinations of them (e.g. from <code><a class="el" href="../../dc/d00/classicarus_1_1trigger_1_1SlidingWindowTrigger.html" title="Combines trigger channels (V1730 LVDS gates) into sliding windows.">icarus::trigger::SlidingWindowTrigger</a></code> module).</li>
<li><code>Thresholds</code> (list of integers, mandatory): list of the discrimination thresholds to consider, in ADC counts. A data product containing a digital signal is read for each one of the thresholds, and the tag of the data product is expected to be the module label <code>TriggerGatesTag</code> with as instance name the value of the threshold (e.g. for a threshold of 60 ADC counts the data product tag might be <code><a class="el" href="../../dd/d03/classicarus_1_1trigger_1_1LVDSgates.html" title="Combines discriminated PMT outputs into V1730 LVDS gates.">LVDSgates</a>:60</code>).</li>
<li><code>MinimumPrimitives</code> (integer, <em>mandatory</em>): the required number of single trigger requests in order for the trigger to fire;</li>
<li><code>BeamGateDuration</code> (time, <em>mandatory</em>): the duration of the beam gate; <em>the time requires the unit to be explicitly specified</em>: use <code>"1.6 us"</code> for BNB, <code>9.5 us</code> for NuMI (also available as <code>BNB_settings.spill_duration</code> and <code>NuMI_settings.spill_duration</code> in <code>trigger_icarus.fcl</code>);</li>
<li><code>TriggerTimeResolution</code> (time, default: <code>8 ns</code>): time resolution for the trigger primitives;</li>
<li><code>LogCategory</code> (string, default <code><a class="el" href="../../da/d00/classicarus_1_1trigger_1_1TriggerEfficiencyPlots.html" title="Produces plots about trigger simulation and trigger efficiency.">TriggerEfficiencyPlots</a></code>): name of category used to stream messages from this module into message facility.</li>
</ul>
<p>An example job configuration is provided as <code>simulatemajoritytriggers_icarus.fcl</code>.</p>
<h1>Output data products </h1>
<ul>
<li><code>std::vector&lt;raw::Trigger&gt;</code> (one instance per ADC threshold): list of triggers fired according to the configured trigger definition; there is one collection (and data product) per ADC threshold, and the data product has the same instance name as the input data one (see <code>TriggerGatesTag</code> and <code>Thresholds</code> configuration parameters); currently only at most one trigger is emitted, with time stamp matching the first time the trigger criteria are satisfied.</li>
</ul>
<h1>Trigger logic algorithm </h1>
<p><a class="anchor" id="MajorityTriggerSimulation_Algorithm"></a> This section describes the trigger logic algorithm used in <code><a class="el" href="../../db/d01/classicarus_1_1trigger_1_1MajorityTriggerSimulation.html" title="Simulates a &quot;majority&quot; trigger.">icarus::trigger::MajorityTriggerSimulation</a></code> and its assumptions.</p>
<p>The algorithm keeps the trigger primitives from the different cryostats separate for the most time. Within each cryostat, all trigger primitives are treated equally, whether they originate from one or from two channels (or 10 or 30), and wherever their channels are in the cryostat. The trigger primitives in each cryostat are combined in a multi-level gate by adding them, so that the level of the resulting gate matches at any time how many trigger primitives are on at that time. Finally, the maximum number of trigger primitives open in any of the cryostats at each time is the level to be compared to the trigger requirements.</p>
<p>This multi-level gate is set in coincidence with the beam gate by multiplying the multi-level and the beam gates. The beam gate opens at a time configured in <code>DetectorClocks</code> service provider (<code>detinfo::DetectorClocks::BeamGateTime()</code>) and has a duration configured in this module (<code>BeamGateDuration</code>).</p>
<p>At this point, the trigger gate is a multi-level gate suppressed everywhere except than during the beam gate. The trigger requirement is simply how many trigger primitives must be open at the same time in a single cryostat for the trigger to fire. The requirement is set in the configuration (<code>MinimumPrimitives</code>). To determine whether a trigger with the given minimum number of primitives open at the same time has fired, the gate combined as described above is scanned to find <em>the first tick</em> where the level of the gate reaches or passes this minimum required number. If such tick exists, the trigger is considered to have fired, and at that time.</p>
<p>While there <em>is</em> a parameter describing the time resolution of the trigger (<code>TriggerTimeResolution</code>), this is currently only used for aesthetic purposes to choose the binning of some plots: the resolution is <em>not</em> superimposed to the gates (yet).</p>
<h2>Output plots </h2>
<p>Plots are directly stored in the producer folder of the <code>TFileService</code> ROOT output file.</p>
<p>Summary plots are generated:</p><ul>
<li><code>NTriggers</code>: total number of triggers, per threshold</li>
<li><code>Eff</code>: fraction of events with at least one trigger, per threshold</li>
<li><code>TriggerTick</code>: trigger time distribution (optical tick), per threshold</li>
</ul>
<p>The plots marked "per threshold" have a "threshold" axis where each bin corresponds to the threshold specified in the <code>Thresholds</code> configuration parameter. Note that the numerical value of the axis on that bin does not match the threshold value. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00342">342</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config" id="d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config">&#9670;&#160;</a></span>icarus::trigger::MajorityTriggerSimulation::Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct icarus::trigger::MajorityTriggerSimulation::Config</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00354">354</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="afed0504abcbb533fcf78effbc1b1b5e6" name="afed0504abcbb533fcf78effbc1b1b5e6"></a>typedef Comment</td>
<td class="fieldname">
Comment fhicl::Comment</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="afbc62401806c2e6dd7afa231080f1a75" name="afbc62401806c2e6dd7afa231080f1a75"></a>typedef Name</td>
<td class="fieldname">
Name fhicl::Name</td>
<td class="fielddoc">
</td></tr>
</table>
<table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a9242a8749b6d45045242a3749e44adef" name="a9242a8749b6d45045242a3749e44adef"></a>Atom&lt; uint32_t &gt;</td>
<td class="fieldname">
BeamBits</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac44a9ca51fefe9539f57b211ae32060a" name="ac44a9ca51fefe9539f57b211ae32060a"></a>Atom&lt; microseconds &gt;</td>
<td class="fieldname">
BeamGateDuration</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5649f8687cb99b3960f2f6c3f188de67" name="a5649f8687cb99b3960f2f6c3f188de67"></a>Atom&lt; string &gt;</td>
<td class="fieldname">
LogCategory</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a6829412cfdfe020f6bd497ba08cec1ff" name="a6829412cfdfe020f6bd497ba08cec1ff"></a>Atom&lt; unsigned int &gt;</td>
<td class="fieldname">
MinimumPrimitives</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a87ce2f3b70d2d6b488e776170b48dc32" name="a87ce2f3b70d2d6b488e776170b48dc32"></a>Sequence&lt; ADC_Count_t &gt;</td>
<td class="fieldname">
Thresholds</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a42cfc50d6e98e752fa495eced702a5f3" name="a42cfc50d6e98e752fa495eced702a5f3"></a>Atom&lt; string &gt;</td>
<td class="fieldname">
TriggerGatesTag</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a4461b8dc1c72937d430ce010421e586c" name="a4461b8dc1c72937d430ce010421e586c"></a>Atom&lt; nanoseconds &gt;</td>
<td class="fieldname">
TriggerTimeResolution</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a3098b6bf3e929176c3fb9ffcd54c1f24" name="a3098b6bf3e929176c3fb9ffcd54c1f24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3098b6bf3e929176c3fb9ffcd54c1f24">&#9670;&#160;</a></span>InputTriggerGate_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a3098b6bf3e929176c3fb9ffcd54c1f24">icarus::trigger::MajorityTriggerSimulation::InputTriggerGate_t</a> = <a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#a3d74537ebeb98f2f58fa8830967c62e7">icarus::trigger::TrackedOpticalTriggerGate</a>&lt;<a class="el" href="../../da/d01/structsbn_1_1OpDetWaveformMeta.html">sbn::OpDetWaveformMeta</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type of trigger gate extracted from the input event. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00433">433</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a5913bc446077543a73c21218abc62c70" name="a5913bc446077543a73c21218abc62c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5913bc446077543a73c21218abc62c70">&#9670;&#160;</a></span>microseconds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using icarus::trigger::MajorityTriggerSimulation::microseconds = util::quantities::intervals::microseconds</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00349">349</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a0805878bb4a5ea06513a9a52e516c70a" name="a0805878bb4a5ea06513a9a52e516c70a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0805878bb4a5ea06513a9a52e516c70a">&#9670;&#160;</a></span>nanoseconds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using icarus::trigger::MajorityTriggerSimulation::nanoseconds = util::quantities::intervals::nanoseconds</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00350">350</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="aeb0b67a30f178627cd4d028aea0afb4a" name="aeb0b67a30f178627cd4d028aea0afb4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0b67a30f178627cd4d028aea0afb4a">&#9670;&#160;</a></span>Parameters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using icarus::trigger::MajorityTriggerSimulation::Parameters = art::EDProducer::Table&lt;<a class="el" href="#d6/d02/structicarus_1_1trigger_1_1MajorityTriggerSimulation_1_1Config">Config</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00398">398</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a3722247ce6c8add9897943a83d078bca" name="a3722247ce6c8add9897943a83d078bca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3722247ce6c8add9897943a83d078bca">&#9670;&#160;</a></span>TriggerGates_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a3722247ce6c8add9897943a83d078bca">icarus::trigger::MajorityTriggerSimulation::TriggerGates_t</a> = std::vector&lt;<a class="el" href="#a3098b6bf3e929176c3fb9ffcd54c1f24">InputTriggerGate_t</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A list of trigger gates from input. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00436">436</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a11d4cc520446a5b2c80e0aa8ac58e710" name="a11d4cc520446a5b2c80e0aa8ac58e710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d4cc520446a5b2c80e0aa8ac58e710">&#9670;&#160;</a></span>TriggerInfo_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">icarus::trigger::MajorityTriggerSimulation::TriggerInfo_t</a> = <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html">details::TriggerInfo_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type alias. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00430">430</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a743fb3694fe8fb8ead3a5294601625c4" name="a743fb3694fe8fb8ead3a5294601625c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a743fb3694fe8fb8ead3a5294601625c4">&#9670;&#160;</a></span>MajorityTriggerSimulation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::trigger::MajorityTriggerSimulation::MajorityTriggerSimulation </td>
          <td>(</td>
          <td class="paramtype">Parameters const &amp;</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00604">604</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a59a2f55f6d3b96ca30d0a23bab59466f" name="a59a2f55f6d3b96ca30d0a23bab59466f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a2f55f6d3b96ca30d0a23bab59466f">&#9670;&#160;</a></span>beginJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::beginJob </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the plots. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00665">665</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a417a0af68bb205bbe52080e9a21be80d" name="a417a0af68bb205bbe52080e9a21be80d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a417a0af68bb205bbe52080e9a21be80d">&#9670;&#160;</a></span>endJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::endJob </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints end-of-job summaries. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00707">707</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="af881e7723e9bbd1b5eef8c732b8dda84" name="af881e7723e9bbd1b5eef8c732b8dda84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af881e7723e9bbd1b5eef8c732b8dda84">&#9670;&#160;</a></span>initializePlots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::initializePlots </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the full set of plots (all ADC thresholds). </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00715">715</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a1907744b1f07e0c25cd7dd155f54ed4a" name="a1907744b1f07e0c25cd7dd155f54ed4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1907744b1f07e0c25cd7dd155f54ed4a">&#9670;&#160;</a></span>makeMyBeamGate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> icarus::trigger::MajorityTriggerSimulation::makeMyBeamGate </td>
          <td>(</td>
          <td class="paramtype">art::Event const &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00591">591</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a4e815e28a0827d3d796f94edda65959c" name="a4e815e28a0827d3d796f94edda65959c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e815e28a0827d3d796f94edda65959c">&#9670;&#160;</a></span>makeMyBeamGate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a> icarus::trigger::MajorityTriggerSimulation::makeMyBeamGate </td>
          <td>(</td>
          <td class="paramtype">art::Event const *</td>          <td class="paramname"><span class="paramname"><em>event</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shortcut to create an <code>ApplyBeamGate</code> with the current configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00582">582</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#a29a214bee5804033b2b965b322254fcf">icarus::trigger::makeApplyBeamGate()</a>.</p>

</div>
</div>
<a id="aa7a94451444253278269ae682cc1674f" name="aa7a94451444253278269ae682cc1674f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7a94451444253278269ae682cc1674f">&#9670;&#160;</a></span>plotTriggerResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::plotTriggerResponse </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>iThr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>triggerInfo</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills the plots for threshold index <code>iThr</code> with trigger information. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00886">886</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#aee3b8210278ffde100c2e0493ecac48d">icarus::trigger::details::TriggerInfo_t::atTick()</a>, and <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#a79fa42435b22c433bb786cd73d228601">icarus::trigger::details::TriggerInfo_t::fired()</a>.</p>

</div>
</div>
<a id="a631f4630b43468451ab0f6c09286228f" name="a631f4630b43468451ab0f6c09286228f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a631f4630b43468451ab0f6c09286228f">&#9670;&#160;</a></span>printSummary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::printSummary </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the summary of fired triggers on screen. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00901">901</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a77c9d67b4e6171b3f9f57e49bcde5067" name="a77c9d67b4e6171b3f9f57e49bcde5067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c9d67b4e6171b3f9f57e49bcde5067">&#9670;&#160;</a></span>produce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void icarus::trigger::MajorityTriggerSimulation::produce </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the simulation and saves the results into the <em>art</em> event. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00673">673</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#aee3b8210278ffde100c2e0493ecac48d">icarus::trigger::details::TriggerInfo_t::atTick()</a>.</p>

</div>
</div>
<a id="a6153a9cad897564005e09257573ff713" name="a6153a9cad897564005e09257573ff713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6153a9cad897564005e09257573ff713">&#9670;&#160;</a></span>produceForThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::MajorityTriggerSimulation::produceForThreshold </td>
          <td>(</td>
          <td class="paramtype">art::Event &amp;</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">detinfo::DetectorTimings const &amp;</td>          <td class="paramname"><span class="paramname"><em>detTimings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>beamGate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t const</td>          <td class="paramname"><span class="paramname"><em>iThr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#abd32d312e13787a2f2c23e6ffdbe7b8b">icarus::trigger::ADCCounts_t</a> const</td>          <td class="paramname"><span class="paramname"><em>thr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the simulation for the specified ADC threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td><em>art</em> event to read data from and put results into </td></tr>
    <tr><td class="paramname">iThr</td><td>index of the threshold in the configuration </td></tr>
    <tr><td class="paramname">thr</td><td>value of the threshold (ADC counts) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a simple copy of the trigger response information</dd></dl>
<p>For the given threshold, the simulation of the configured trigger is performed. The input data is read from the event (the source tag is from the module configuration), simulation is performed, auxiliary plots are drawn and a <code>raw::Trigger</code> collection is stored into the event.</p>
<p>The stored collection contains either one or zero <code>raw::Trigger</code> elements.</p>
<p>The simulation itself is performed by the <code><a class="el" href="#a2c561ba35ea22d2f75780a314296cc7e" title="Performs the simulation of the configured trigger on gates input.">simulate()</a></code> method. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00785">785</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#a79fa42435b22c433bb786cd73d228601">icarus::trigger::details::TriggerInfo_t::fired()</a>, and <a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#acd9edd5a2e2064c7ec0d2eacce5df61a">icarus::trigger::ReadTriggerGates()</a>.</p>

</div>
</div>
<a id="a2c561ba35ea22d2f75780a314296cc7e" name="a2c561ba35ea22d2f75780a314296cc7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c561ba35ea22d2f75780a314296cc7e">&#9670;&#160;</a></span>simulate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::MajorityTriggerSimulation::simulate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>clockData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>gates</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the simulation of the configured trigger on <code>gates</code> input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gates</td><td>the input to the trigger simulation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the outcome and details of the trigger simulation</dd></dl>
<p>The simulation is performed using the input single trigger requests (or trigger primitives) from the <code>gates</code> collection.</p>
<p>The gates are split by cryostat, and the simulation is performed independently on each cryostat (<code><a class="el" href="#aeb4a9f896755369f75afe611c4cc746e" title="Simulates the trigger response within a single cryostat.">simulateCryostat()</a></code>). Finally, the cryostat triggers are combined (OR) into the final trigger decision, bearing as time the earliest one. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00825">825</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#a00fb9fd69f8c5e78c6c241884b8f1e85">icarus::trigger::details::TriggerInfo_t::addAndReplaceIfEarlier()</a>, and <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#afec9007fa28224d10cc127d3fdf9ea07">icarus::trigger::details::TriggerInfo_t::sortOpenings()</a>.</p>

</div>
</div>
<a id="aeb4a9f896755369f75afe611c4cc746e" name="aeb4a9f896755369f75afe611c4cc746e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb4a9f896755369f75afe611c4cc746e">&#9670;&#160;</a></span>simulateCryostat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto icarus::trigger::MajorityTriggerSimulation::simulateCryostat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">ApplyBeamGateClass</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>beamGate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>iCryo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3722247ce6c8add9897943a83d078bca">TriggerGates_t</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>gates</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simulates the trigger response within a single cryostat. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">beamGate</td><td>the beam gate to be applied </td></tr>
    <tr><td class="paramname">iCryo</td><td>index of the cryostat being processed </td></tr>
    <tr><td class="paramname">gates</td><td>the trigger primitives to be considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the outcome and details of the trigger simulation</dd></dl>
<p>The simulation computes the count of trigger <code>gates</code> open at any time, sets it in coincidence with the beam gate, and fires a trigger if within that gate the count of open <code>gates</code> is equal or larger than the threshold configured (<code>MinimumPrimitives</code>). The time is the earliest one when that requirement is met. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00855">855</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d02/structicarus_1_1trigger_1_1details_1_1TriggerInfo__t.html#a1c6a4c74bd4f5d4f04da642b5061910a">icarus::trigger::details::TriggerInfo_t::add()</a>.</p>

</div>
</div>
<a id="a842fd7d11053c5a1572d29b05e4fa522" name="a842fd7d11053c5a1572d29b05e4fa522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842fd7d11053c5a1572d29b05e4fa522">&#9670;&#160;</a></span>triggerInfoToTriggerData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">raw::Trigger icarus::trigger::MajorityTriggerSimulation::triggerInfoToTriggerData </td>
          <td>(</td>
          <td class="paramtype">detinfo::DetectorTimings const &amp;</td>          <td class="paramname"><span class="paramname"><em>detTimings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>triggerNumber</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a11d4cc520446a5b2c80e0aa8ac58e710">TriggerInfo_t</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the trigger information into a <code>raw::Trigger</code> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">triggerNumber</td><td>the unique number to assign to this trigger </td></tr>
    <tr><td class="paramname">info</td><td>the information about the fired trigger </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <code>raw::Trigger</code> object with all the information encoded</dd></dl>
<p>The trigger described by <code>info</code> is encoded into a <code>raw::Trigger</code> object. The trigger <em>must</em> have fired. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00925">925</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a669a264de8d33b790d0d32ef8973cdf3" name="a669a264de8d33b790d0d32ef8973cdf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a669a264de8d33b790d0d32ef8973cdf3">&#9670;&#160;</a></span>fADCthresholds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../dd/d02/namespaceicarus_1_1trigger.html#abd32d312e13787a2f2c23e6ffdbe7b8b">icarus::trigger::ADCCounts_t</a>, art::InputTag&gt; icarus::trigger::MajorityTriggerSimulation::fADCthresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ADC thresholds to read, and the input tag connected to their data. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00442">442</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="aec4bb5d03329fd0fca1c05c2a9f105e9" name="aec4bb5d03329fd0fca1c05c2a9f105e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec4bb5d03329fd0fca1c05c2a9f105e9">&#9670;&#160;</a></span>fBeamBits</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::uint32_t icarus::trigger::MajorityTriggerSimulation::fBeamBits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bits for the beam gate being simulated. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00452">452</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="aa374708731e46077434e46aacc8f98e1" name="aa374708731e46077434e46aacc8f98e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa374708731e46077434e46aacc8f98e1">&#9670;&#160;</a></span>fBeamGateDuration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">microseconds icarus::trigger::MajorityTriggerSimulation::fBeamGateDuration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Duration of the gate during with global optical triggers are accepted. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00448">448</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="af2371fcb98a5b99642be22b38f10a653" name="af2371fcb98a5b99642be22b38f10a653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2371fcb98a5b99642be22b38f10a653">&#9670;&#160;</a></span>fChannelSplitter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d00/classicarus_1_1trigger_1_1GeometryChannelSplitter.html">GeometryChannelSplitter</a> icarus::trigger::MajorityTriggerSimulation::fChannelSplitter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Algorithm to sort trigger gates by cryostat or TPC. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00474">474</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a77d80618091473a0a252e60d95ed089e" name="a77d80618091473a0a252e60d95ed089e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d80618091473a0a252e60d95ed089e">&#9670;&#160;</a></span>fCombiner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d03/classicarus_1_1trigger_1_1MajorityTriggerCombiner.html">MajorityTriggerCombiner</a> const icarus::trigger::MajorityTriggerSimulation::fCombiner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Algorithm to combine primitives. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00471">471</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a8e924eaf83efb6cc12f58a8439a65bd7" name="a8e924eaf83efb6cc12f58a8439a65bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e924eaf83efb6cc12f58a8439a65bd7">&#9670;&#160;</a></span>fGateChangeCheck</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::ns::util::ThreadSafeChangeMonitor&lt;<a class="el" href="../../df/d02/classicarus_1_1trigger_1_1ApplyBeamGateClass.html">icarus::trigger::ApplyBeamGateClass</a>&gt; icarus::trigger::MajorityTriggerSimulation::fGateChangeCheck</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Functor returning whether a gate has changed. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00487">487</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a19dabddeb6b86a81cc0f431755aefbcf" name="a19dabddeb6b86a81cc0f431755aefbcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19dabddeb6b86a81cc0f431755aefbcf">&#9670;&#160;</a></span>fGeom</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geo::GeometryCore const&amp; icarus::trigger::MajorityTriggerSimulation::fGeom</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00461">461</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a3f35bb6cf61d371521debe5964cc5691" name="a3f35bb6cf61d371521debe5964cc5691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f35bb6cf61d371521debe5964cc5691">&#9670;&#160;</a></span>fLogCategory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const icarus::trigger::MajorityTriggerSimulation::fLogCategory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message facility stream category for output. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00455">455</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a7b2ed4edbe26a93b5b726665a964f270" name="a7b2ed4edbe26a93b5b726665a964f270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2ed4edbe26a93b5b726665a964f270">&#9670;&#160;</a></span>fMinimumPrimitives</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int const icarus::trigger::MajorityTriggerSimulation::fMinimumPrimitives</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minimum number of trigger primitives for a trigger to happen. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00445">445</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="ae56659f7447bd97c5613ce87a6996adb" name="ae56659f7447bd97c5613ce87a6996adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56659f7447bd97c5613ce87a6996adb">&#9670;&#160;</a></span>fOutputDir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">art::TFileDirectory icarus::trigger::MajorityTriggerSimulation::fOutputDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ROOT directory where all the plots are written. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00464">464</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a7cc2c3ba068e74abaa55c69866921fcf" name="a7cc2c3ba068e74abaa55c69866921fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc2c3ba068e74abaa55c69866921fcf">&#9670;&#160;</a></span>fPlots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">icarus::ns::util::PlotSandbox&lt;art::TFileDirectory&gt; icarus::trigger::MajorityTriggerSimulation::fPlots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All plots in one practical sandbox. </p>
<p>Count of fired triggers, per threshold. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00477">477</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a8722f10ea4611e41c6c0f0bb985fdb42" name="a8722f10ea4611e41c6c0f0bb985fdb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8722f10ea4611e41c6c0f0bb985fdb42">&#9670;&#160;</a></span>fTotalEvents</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;unsigned int&gt; icarus::trigger::MajorityTriggerSimulation::fTotalEvents { 0U }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count of fired triggers. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00481">481</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a2f78981d2920fc967428a83bc42013bd" name="a2f78981d2920fc967428a83bc42013bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f78981d2920fc967428a83bc42013bd">&#9670;&#160;</a></span>fTriggerCount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::atomic&lt;unsigned int&gt; &gt; icarus::trigger::MajorityTriggerSimulation::fTriggerCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00480">480</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<a id="a5bcd2f6292da5b5bdc8839ad0229b36d" name="a5bcd2f6292da5b5bdc8839ad0229b36d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bcd2f6292da5b5bdc8839ad0229b36d">&#9670;&#160;</a></span>fTriggerTimeResolution</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nanoseconds icarus::trigger::MajorityTriggerSimulation::fTriggerTimeResolution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trigger resolution in time. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html#l00450">450</a> of file <a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>icaruscode/icaruscode/PMT/Trigger/<a class="el" href="../../d8/d00/MajorityTriggerSimulation__module_8cc_source.html">MajorityTriggerSimulation_module.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
